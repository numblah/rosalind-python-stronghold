function Action(e){this.name=typeof e=="object"&&"action"in e&&e.action||"",this.options=typeof e=="object"&&"options"in e&&e.options||{}}function ActionQueue(){this.actions=[],this.handlers=[],this.add_action=function(e){this.actions.push(e)},this.add_handler=function(e){this.handlers.push(e)},this.process=function(){for(var e=0;e<this.actions.length;e++)for(var t=0;t<this.handlers.length;t++)if(this.handlers[t].action_name==this.actions[e].name){this.handlers[t].process(this.actions[e].options);break}}}function show_elements(e){for(var t=0;t<e.length;t++)$(e[t]).show()}function hide_elements(e){for(var t=0;t<e.length;t++)$(e[t]).hide()}function format_timedelta(e,t){t>=60&&(e=Math.floor(t/60),t%=60);var n=[];return e>1?n.push(e+" minutes"):e==1&&n.push(e+" minute"),t>1?n.push(t+" seconds"):t==1&&n.push(t+" second"),n.join(" and ")}function init_countdown(e,t){$(e).hasClass("hasCountdown")&&$(e).countdown("destroy"),$(e).countdown(t)}function ProblemViewHandler(){this.action_name="problem-view",this.state_0=function(e){show_elements([".problem-timelimit"]),hide_elements([".problem-timeleft",".problem-timewait",".problem-solved",".problem-dataset",".problem-dataset-again",".problem-attempts",".problem-submission"])},this.state_1=function(e){show_elements([".problem-timelimit",".problem-dataset",".problem-attempts"]),hide_elements([".problem-timeleft",".problem-timewait",".problem-solved",".problem-dataset-again",".problem-submission"]);var t=this;$("#id_problem_dataset_link").on("click",function(){t.state_2(e)})},this.state_2=function(e){show_elements([".problem-timeleft",".problem-dataset-again",".problem-submission"]),hide_elements([".problem-timelimit",".problem-timewait",".problem-solved",".problem-dataset",".problem-attempts"]);var t=this;init_countdown("#id_countdown",{until:e.timeleft,format:"MS",compact:!0,onTick:function(e){$("#id_span_timeleft").html(format_timedelta(e[5],e[6]))},onExpiry:function(){$("#id_submission_timeout").modal("show"),e.timeleft=e.timelimit,t.state_1(e)}})},this.state_3=function(e){show_elements([".problem-timewait",".problem-attempts"]),hide_elements([".problem-timelimit",".problem-timeleft",".problem-solved",".problem-dataset",".problem-dataset-again",".problem-submission"]);var t=this;init_countdown("#id_countdown",{until:e.timewait,format:"MS",compact:!0,onTick:function(e){$("#id_span_timewait").html(format_timedelta(e[5],e[6]))},onExpiry:function(){e.timeleft=e.timelimit,$(".alert").hide(),t.state_1(e)}})},this.state_4=function(e){show_elements([".problem-timewait",".problem-solved",".problem-attempts"]),hide_elements([".problem-timelimit",".problem-timeleft",".problem-dataset",".problem-dataset-again",".problem-submission"]);var t=this;init_countdown("#id_countdown",{until:e.timewait,format:"MS",compact:!0,onTick:function(e){$("#id_span_timewait").html(format_timedelta(e[5],e[6]))},onExpiry:function(){e.timeleft=e.timelimit,$(".alert").hide(),t.state_5(e)}})},this.state_5=function(e){show_elements([".problem-timelimit",".problem-dataset",".problem-solved",".problem-attempts"]),hide_elements([".problem-timeleft",".problem-timewait",".problem-dataset-again",".problem-submission"]);var t=this;$("#id_problem_dataset_link").on("click",function(){t.state_6(e)})},this.state_6=function(e){show_elements([".problem-timeleft",".problem-solved",".problem-dataset-again",".problem-submission"]),hide_elements([".problem-timelimit",".problem-timewait",".problem-dataset",".problem-attempts"]);var t=this;init_countdown("#id_countdown",{until:e.timeleft,format:"MS",compact:!0,onTick:function(e){$("#id_span_timeleft").html(format_timedelta(e[5],e[6]))},onExpiry:function(){$("#id_submission_timeout").modal("show"),e.timeleft=e.timelimit,t.state_5(e)}})},this.process=function(e){e.state>=0&&e.state<=6&&this["state_"+e.state](e)}}function LoginHandler(){this.action_name="login",this.update_providers=function(e,t){for(var n in e){var r=e[n].url;if(r!=null)for(var i in t)if(t[i]["name"]==r){e[n].url='javascript: window.location="'+t[i].url+'";';break}}},this.process=function(e){this.update_providers(providers_large,e.backends),this.update_providers(providers_small,e.backends),openid.init("openid_identifier")}}function ProfileHandler(){this.action_name="profile-handler",this.process=function(e){var t=d3.select("#levels-bar-chart-wrapper");make_levels_chart(t,e);var n=d3.select("#activity-plot-wrapper");n.node()&&make_user_progress_plot(n,e)}}function ChartsDrawer(){this.action_name="charts-drawer",this.process=function(e){var t=d3.select("#levels-bar-chart-wrapper");make_levels_chart(t,e);var n=d3.select("#user-progress-plot-wrapper");make_user_progress_plot(n,e)}}function make_levels_chart(e,t){var n=t.levels,r=t.user_level,i=parseInt(e.style("width")),s=200,o=d3.max($.map(n,function(e){return d3.max($.map(e.data,function(e){return e.count}))})),u=20,a=40,f=0,l=i/n.length-f,c=l/n[0].data.length,h=d3.rgb("lightblue"),p=d3.rgb("red"),d=e.append("svg").attr("class","chart").attr("width",i).attr("height",s),v=d.selectAll("g").data(n).enter().append("g").attr("width",l).attr("height",s-a),m=d3.scale.linear().domain([0,o]).range([0,s-a-u]),g=function(e){return s-a-m(e.count)-u};v.selectAll("a").data(function(e){return e.data}).enter().append("a").attr("xlink:href",function(e){return"/statistics/levels/"+e.num+"/"}).attr("fill","inherit").append("rect").attr("width",c).attr("height",function(e){return m(e.count)+u}).attr("x",function(e,t){return c*t}).attr("y",g),v.selectAll("a").append("text").attr("x",function(e,t){return c*(t+.5)}).attr("y",g).attr("dy","1em").attr("text-anchor","middle").attr("class","level-holder").text(function(e){return e.count}),v.append("text").attr("x",l/2).attr("y",s).attr("dy","-1em").attr("text-anchor","middle").attr("class","level-name").text(function(e){return e.name}),d.selectAll("g").attr("transform",function(e,t){return"translate("+t*(l+f)+")"}).attr("fill",function(e,t){return String(t%2==0?h:h.darker())}),d.selectAll("g rect").filter(function(e,t){return t==r-1}).attr("fill",String(p))}function make_user_progress_plot(e,t){var n=t.solved_by_week,r=parseInt(e.style("width")),i=240,s=45,o=d3.scale.linear().domain([0,n.length-1]).range([0+s,r-s]),u=d3.scale.linear().domain([0,d3.max(n.map(function(e){return e.solved}))]).range([i-s,20]),a=d3.rgb("darkblue"),f=d3.rgb("lightblue"),l=e.append("svg").attr("width",r).attr("height",i).attr("class","chart");l.append("path").data([n]).attr("d",d3.svg.area().interpolate("monotone").x(function(e,t){return o(t)}).y1(function(e,t){return u(e.solved)}).y0(i-s).defined(function(e){return e!=0})).attr("fill",f).attr("stroke",a),l.append("rect").attr("x",0).attr("y",i-s).attr("fill","white").attr("width",r).attr("height",s);var c=d3.svg.axis().scale(o).tickValues(d3.range(n.length)).tickFormat(function(e){return n[e].day+"/"+n[e].month}),h=d3.svg.axis().scale(u).ticks(4).orient("left");l.append("g").attr("class","y axis").attr("transform","translate("+s+")").call(h),l.append("g").attr("class","x axis").attr("transform","translate(0,"+(i-s)+")").call(c),l.append("text").text("Date").attr("x",r/2).attr("y",i).attr("text-anchor","middle").attr("class","axis-label"),l.append("text").text("Problems solved").attr("x",0).attr("dy","0.8em").attr("y",(i-s)/2).attr("transform","rotate(-90, 0, "+(i-s)/2+")").attr("text-anchor","middle").attr("class","axis-label")}function GraphHandler(){this.action_name="graph",this.resize_graph=function(){var e=$("#graph-wrapper").width(),t,n=$("#graph-wrapper > svg"),r=n.height()/n.width();n.attr("original-width")==undefined&&n.attr("original-width",n.width()),t=parseInt(n.attr("original-width"))>e?e:parseInt(n.attr("original-width")),n.width(t),n.height(t*r)},this.init_nodes=function(e){$.each(e,function(e,t){var n=$("g#problem"+t.id);t.is_draft?n.attr("class",n.attr("class")+" draft"):t.is_solved?n.attr("class",n.attr("class")+" solved"):t.is_accessible?n.attr("class",n.attr("class")+" accessible"):n.attr("class",n.attr("class")+" not-accessible"),n.attr("title",t.num_and_solved_by),n.attr("data-content",t.title_and_topics),n.attr("rel","popover"),n.popover({trigger:"hover"}),n.click(function(e){n.popover("hide")})})},this.show_old_browser_warning=function(){$("#graph-wrapper").hide(),window.location="/non-compatible-browser/"},this.process=function(e){Modernizr.svg?(this.resize_graph(),this.init_nodes(e.problems),$(window).on("resize.graph",this.resize_graph)):this.show_old_browser_warning()}}function ClassDetailHandler(){this.action_name="class-detail",this.enroll_link_clipboard=function(){var e;$("#enroll_link").click(function(t){t.preventDefault(),$(this).blur(),$(".enroll").slideToggle("slow",function(){$(this).is(":visible")?(e=new ZeroClipboard.Client,e.setHandCursor(!0),e.setText($("#enroll_input").val()),e.addEventListener("complete",function(e,t){t==$("#enroll_input").val()&&($("#enroll_input").addClass("copied"),setTimeout(function(){$("#enroll_input").removeClass("copied")},500))}),e.glue("enroll_button"),$("#enroll_input").focus()):e.destroy()})}),$("#enroll_input").focus(function(){$(this).select()}),$("#enroll_input").click(function(){$(this).select()})},this.process=function(e){this.enroll_link_clipboard()}}function show_modal(e,t){var n=$("#id_modal");n&&(n.find(".modal-header h3").text(e),n.find(".modal-body").html(t),n.modal("show"))}function get_selected_text(){var e,t,n;return window.getSelection&&document.activeElement?(document.activeElement.nodeName=="TEXTAREA"||document.activeElement.nodeName=="INPUT"&&document.activeElement.getAttribute("type").toLowerCase()=="text"?(t=document.activeElement,e=t.value.substring(t.selectionStart,t.selectionEnd)):e=window.getSelection(),n=e.toString()):document.getSelection?n=document.getSelection().toString():document.selection&&(e=document.selection.createRange(),n=e.text),n}function init_report_typo_form(){$(document).keypress(function(e){if((e.which==13||e.which==10)&&e.ctrlKey){var t=get_selected_text();t&&t.length>3&&(e.preventDefault(),$("#id_report_typo_page").text(window.location),$("#id_report_typo_context").html(t),$("#id_report_typo_form #id_context").val(t),$("#id_report_typo_form #id_comment").val(""),$("#id_report_typo").modal("show"),$("#id_report_typo_submit").removeClass("disabled"),$("#id_report_typo_form > #id_comment").focus(),$("#id_report_typo_submit").click(function(e){$(this).addClass("disabled"),$(this).unbind("click"),e.preventDefault(),$.post($("#id_report_typo_form").attr("action"),$("#id_report_typo_form").serialize(),function(e){$("#id_report_typo").modal("hide"),show_modal("Typo has been reported","Thank you for your involvement in Rosalind.")},"json").error(function(){alert("An error occurred during typo report."),$("#id_report_typo").modal("hide")})}))}})}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),r=n.exec(window.location.search);return r==null?"":decodeURIComponent(r[1].replace(/\+/g," "))}window.Modernizr=function(e,t,n){function w(e){a.cssText=e}function E(e,t){return w(prefixes.join(e+";")+(t||""))}function S(e,t){return typeof e===t}function x(e,t){return!!~(""+e).indexOf(t)}function T(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:S(s,"function")?s.bind(r||t):s}return!1}var r="2.6.0",i={},s=t.documentElement,o="modernizr",u=t.createElement(o),a=u.style,f,l={}.toString,c={svg:"http://www.w3.org/2000/svg"},h={},p={},d={},v=[],m=v.slice,g,y={}.hasOwnProperty,b;!S(y,"undefined")&&!S(y.call,"undefined")?b=function(e,t){return y.call(e,t)}:b=function(e,t){return t in e&&S(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=m.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(m.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(m.call(arguments)))};return i}),h.svg=function(){return!!t.createElementNS&&!!t.createElementNS(c.svg,"svg").createSVGRect};for(var N in h)b(h,N)&&(g=N.toLowerCase(),i[g]=h[N](),v.push((i[g]?"":"no-")+g));return i.addTest=function(e,t){if(typeof e=="object")for(var r in e)b(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,enableClasses&&(s.className+=" "+(t?"":"no-")+e),i[e]=t}return i},w(""),u=f=null,i._version=r,i}(this,this.document),function(e){function t(){function t(e){var i=e<1e12?i=performance.now?performance.now()+performance.timing.navigationStart:Date.now():e||(new Date).getTime();i-r>=1e3&&(c._updateTargets(),r=i),n(t)}this.regional=[],this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},e.extend(this._defaults,this.regional[""]),this._serverSyncs=[];var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,r=0;!n||e.noRequestAnimationFrame?(e.noRequestAnimationFrame=null,setInterval(function(){c._updateTargets()},980)):(r=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||(new Date).getTime(),n(t))}function l(t,n){return t=="option"&&(n.length==0||n.length==1&&typeof n[0]=="string")?!0:e.inArray(t,f)>-1}var n=0,r=1,i=2,s=3,o=4,u=5,a=6;e.extend(t.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(t){this._resetExtraLabels(this._defaults,t),e.extend(this._defaults,t||{})},UTCDate:function(e,t,n,r,i,s,o,u){typeof t=="object"&&t.constructor==Date&&(u=t.getMilliseconds(),o=t.getSeconds(),s=t.getMinutes(),i=t.getHours(),r=t.getDate(),n=t.getMonth(),t=t.getFullYear());var a=new Date;return a.setUTCFullYear(t),a.setUTCDate(1),a.setUTCMonth(n||0),a.setUTCDate(r||1),a.setUTCHours(i||0),a.setUTCMinutes((s||0)-(Math.abs(e)<30?e*60:e)),a.setUTCSeconds(o||0),a.setUTCMilliseconds(u||0),a},periodsToSeconds:function(e){return e[0]*31557600+e[1]*2629800+e[2]*604800+e[3]*86400+e[4]*3600+e[5]*60+e[6]},_attachPlugin:function(t,n){t=e(t);if(t.hasClass(this.markerClassName))return;var r={options:e.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};t.addClass(this.markerClassName).data(this.propertyName,r),this._optionPlugin(t,n)},_addTarget:function(e){this._hasTarget(e)||this._timerTargets.push(e)},_hasTarget:function(t){return e.inArray(t,this._timerTargets)>-1},_removeTarget:function(t){this._timerTargets=e.map(this._timerTargets,function(e){return e==t?null:e})},_updateTargets:function(){for(var e=this._timerTargets.length-1;e>=0;e--)this._updateCountdown(this._timerTargets[e])},_optionPlugin:function(t,n,r){t=e(t);var i=t.data(this.propertyName);if(!n||typeof n=="string"&&r==null){var s=n;return n=(i||{}).options,n&&s?n[s]:n}if(!t.hasClass(this.markerClassName))return;n=n||{};if(typeof n=="string"){var s=n;n={},n[s]=r}this._resetExtraLabels(i.options,n),e.extend(i.options,n),this._adjustSettings(t,i);var o=new Date;(i._since&&i._since<o||i._until&&i._until>o)&&this._addTarget(t[0]),this._updateCountdown(t,i)},_updateCountdown:function(t,n){var r=e(t);n=n||r.data(this.propertyName);if(!n)return;r.html(this._generateHTML(n)).toggleClass(this._rtlClass,n.options.isRTL);if(e.isFunction(n.options.onTick)){var i=n._hold!="lap"?n._periods:this._calculatePeriods(n,n._show,n.options.significant,new Date);(n.options.tickInterval==1||this.periodsToSeconds(i)%n.options.tickInterval==0)&&n.options.onTick.apply(t,[i])}var s=n._hold!="pause"&&(n._since?n._now.getTime()<n._since.getTime():n._now.getTime()>=n._until.getTime());if(s&&!n._expiring){n._expiring=!0;if(this._hasTarget(t)||n.options.alwaysExpire){this._removeTarget(t),e.isFunction(n.options.onExpiry)&&n.options.onExpiry.apply(t,[]);if(n.options.expiryText){var o=n.options.layout;n.options.layout=n.options.expiryText,this._updateCountdown(t,n),n.options.layout=o}n.options.expiryUrl&&(window.location=n.options.expiryUrl)}n._expiring=!1}else n._hold=="pause"&&this._removeTarget(t);r.data(this.propertyName,n)},_resetExtraLabels:function(e,t){var n=!1;for(var r in t)if(r!="whichLabels"&&r.match(/[Ll]abels/)){n=!0;break}if(n)for(var r in e)r.match(/[Ll]abels[02-9]/)&&(e[r]=null)},_adjustSettings:function(t,n){var r,i=0,s=null;for(var o=0;o<this._serverSyncs.length;o++)if(this._serverSyncs[o][0]==n.options.serverSync){s=this._serverSyncs[o][1];break}if(s!=null)i=n.options.serverSync?s:0,r=new Date;else{var u=e.isFunction(n.options.serverSync)?n.options.serverSync.apply(t,[]):null;r=new Date,i=u?r.getTime()-u.getTime():0,this._serverSyncs.push([n.options.serverSync,i])}var a=n.options.timezone;a=a==null?-r.getTimezoneOffset():a,n._since=n.options.since,n._since!=null&&(n._since=this.UTCDate(a,this._determineTime(n._since,null)),n._since&&i&&n._since.setMilliseconds(n._since.getMilliseconds()+i)),n._until=this.UTCDate(a,this._determineTime(n.options.until,r)),i&&n._until.setMilliseconds(n._until.getMilliseconds()+i),n._show=this._determineShow(n)},_destroyPlugin:function(t){t=e(t);if(!t.hasClass(this.markerClassName))return;this._removeTarget(t[0]),t.removeClass(this.markerClassName).empty().removeData(this.propertyName)},_pausePlugin:function(e){this._hold(e,"pause")},_lapPlugin:function(e){this._hold(e,"lap")},_resumePlugin:function(e){this._hold(e,null)},_hold:function(t,n){var r=e.data(t,this.propertyName);if(r){if(r._hold=="pause"&&!n){r._periods=r._savePeriods;var i=r._since?"-":"+";r[r._since?"_since":"_until"]=this._determineTime(i+r._periods[0]+"y"+i+r._periods[1]+"o"+i+r._periods[2]+"w"+i+r._periods[3]+"d"+i+r._periods[4]+"h"+i+r._periods[5]+"m"+i+r._periods[6]+"s"),this._addTarget(t)}r._hold=n,r._savePeriods=n=="pause"?r._periods:null,e.data(t,this.propertyName,r),this._updateCountdown(t,r)}},_getTimesPlugin:function(t){var n=e.data(t,this.propertyName);return n?n._hold?this._calculatePeriods(n,n._show,n.options.significant,new Date):n._periods:null},_determineTime:function(e,t){var n=function(e){var t=new Date;return t.setTime(t.getTime()+e*1e3),t},r=function(e){e=e.toLowerCase();var t=new Date,n=t.getFullYear(),r=t.getMonth(),i=t.getDate(),s=t.getHours(),o=t.getMinutes(),u=t.getSeconds(),a=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,f=a.exec(e);while(f){switch(f[2]||"s"){case"s":u+=parseInt(f[1],10);break;case"m":o+=parseInt(f[1],10);break;case"h":s+=parseInt(f[1],10);break;case"d":i+=parseInt(f[1],10);break;case"w":i+=parseInt(f[1],10)*7;break;case"o":r+=parseInt(f[1],10),i=Math.min(i,c._getDaysInMonth(n,r));break;case"y":n+=parseInt(f[1],10),i=Math.min(i,c._getDaysInMonth(n,r))}f=a.exec(e)}return new Date(n,r,i,s,o,u,0)},i=e==null?t:typeof e=="string"?r(e):typeof e=="number"?n(e):e;return i&&i.setMilliseconds(0),i},_getDaysInMonth:function(e,t){return 32-(new Date(e,t,32)).getDate()},_normalLabels:function(e){return e},_generateHTML:function(t){var f=this;t._periods=t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);var l=!1,h=0,p=t.options.significant,d=e.extend({},t._show);for(var v=n;v<=a;v++)l|=t._show[v]=="?"&&t._periods[v]>0,d[v]=t._show[v]=="?"&&!l?null:t._show[v],h+=d[v]?1:0,p-=t._periods[v]>0?1:0;var m=[!1,!1,!1,!1,!1,!1,!1];for(var v=a;v>=n;v--)t._show[v]&&(t._periods[v]?m[v]=!0:(m[v]=p>0,p--));var g=t.options.compact?t.options.compactLabels:t.options.labels,y=t.options.whichLabels||this._normalLabels,b=function(e){var n=t.options["compactLabels"+y(t._periods[e])];return d[e]?f._translateDigits(t,t._periods[e])+(n?n[e]:g[e])+" ":""},w=function(e){var n=t.options["labels"+y(t._periods[e])];return!t.options.significant&&d[e]||t.options.significant&&m[e]?'<span class="'+c._sectionClass+'">'+'<span class="'+c._amountClass+'">'+f._translateDigits(t,t._periods[e])+"</span><br/>"+(n?n[e]:g[e])+"</span>":""};return t.options.layout?this._buildLayout(t,d,t.options.layout,t.options.compact,t.options.significant,m):(t.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(t._hold?" "+this._holdingClass:"")+'">'+b(n)+b(r)+b(i)+b(s)+(d[o]?this._minDigits(t,t._periods[o],2):"")+(d[u]?(d[o]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[u],2):"")+(d[a]?(d[o]||d[u]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[a],2):""):'<span class="'+this._rowClass+" "+this._showClass+(t.options.significant||h)+(t._hold?" "+this._holdingClass:"")+'">'+w(n)+w(r)+w(i)+w(s)+w(o)+w(u)+w(a))+"</span>"+(t.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+t.options.description+"</span>":"")},_buildLayout:function(t,f,l,c,h,p){var d=t.options[c?"compactLabels":"labels"],v=t.options.whichLabels||this._normalLabels,m=function(e){return(t.options[(c?"compactLabels":"labels")+v(t._periods[e])]||d)[e]},g=function(e,n){return t.options.digits[Math.floor(e/n)%10]},y={desc:t.options.description,sep:t.options.timeSeparator,yl:m(n),yn:this._minDigits(t,t._periods[n],1),ynn:this._minDigits(t,t._periods[n],2),ynnn:this._minDigits(t,t._periods[n],3),y1:g(t._periods[n],1),y10:g(t._periods[n],10),y100:g(t._periods[n],100),y1000:g(t._periods[n],1e3),ol:m(r),on:this._minDigits(t,t._periods[r],1),onn:this._minDigits(t,t._periods[r],2),onnn:this._minDigits(t,t._periods[r],3),o1:g(t._periods[r],1),o10:g(t._periods[r],10),o100:g(t._periods[r],100),o1000:g(t._periods[r],1e3),wl:m(i),wn:this._minDigits(t,t._periods[i],1),wnn:this._minDigits(t,t._periods[i],2),wnnn:this._minDigits(t,t._periods[i],3),w1:g(t._periods[i],1),w10:g(t._periods[i],10),w100:g(t._periods[i],100),w1000:g(t._periods[i],1e3),dl:m(s),dn:this._minDigits(t,t._periods[s],1),dnn:this._minDigits(t,t._periods[s],2),dnnn:this._minDigits(t,t._periods[s],3),d1:g(t._periods[s],1),d10:g(t._periods[s],10),d100:g(t._periods[s],100),d1000:g(t._periods[s],1e3),hl:m(o),hn:this._minDigits(t,t._periods[o],1),hnn:this._minDigits(t,t._periods[o],2),hnnn:this._minDigits(t,t._periods[o],3),h1:g(t._periods[o],1),h10:g(t._periods[o],10),h100:g(t._periods[o],100),h1000:g(t._periods[o],1e3),ml:m(u),mn:this._minDigits(t,t._periods[u],1),mnn:this._minDigits(t,t._periods[u],2),mnnn:this._minDigits(t,t._periods[u],3),m1:g(t._periods[u],1),m10:g(t._periods[u],10),m100:g(t._periods[u],100),m1000:g(t._periods[u],1e3),sl:m(a),sn:this._minDigits(t,t._periods[a],1),snn:this._minDigits(t,t._periods[a],2),snnn:this._minDigits(t,t._periods[a],3),s1:g(t._periods[a],1),s10:g(t._periods[a],10),s100:g(t._periods[a],100),s1000:g(t._periods[a],1e3)},b=l;for(var w=n;w<=a;w++){var E="yowdhms".charAt(w),x=new RegExp("\\{"+E+"<\\}(.*)\\{"+E+">\\}","g");b=b.replace(x,!h&&f[w]||h&&p[w]?"$1":"")}return e.each(y,function(e,t){var n=new RegExp("\\{"+e+"\\}","g");b=b.replace(n,t)}),b},_minDigits:function(e,t,n){return t=""+t,t.length>=n?this._translateDigits(e,t):(t="0000000000"+t,this._translateDigits(e,t.substr(t.length-n)))},_translateDigits:function(e,t){return(""+t).replace(/[0-9]/g,function(t){return e.options.digits[t]})},_determineShow:function(e){var t=e.options.format,f=[];return f[n]=t.match("y")?"?":t.match("Y")?"!":null,f[r]=t.match("o")?"?":t.match("O")?"!":null,f[i]=t.match("w")?"?":t.match("W")?"!":null,f[s]=t.match("d")?"?":t.match("D")?"!":null,f[o]=t.match("h")?"?":t.match("H")?"!":null,f[u]=t.match("m")?"?":t.match("M")?"!":null,f[a]=t.match("s")?"?":t.match("S")?"!":null,f},_calculatePeriods:function(e,t,f,l){e._now=l,e._now.setMilliseconds(0);var h=new Date(e._now.getTime());e._since?l.getTime()<e._since.getTime()?e._now=l=h:l=e._since:(h.setTime(e._until.getTime()),l.getTime()>e._until.getTime()&&(e._now=l=h));var p=[0,0,0,0,0,0,0];if(t[n]||t[r]){var d=c._getDaysInMonth(l.getFullYear(),l.getMonth()),v=c._getDaysInMonth(h.getFullYear(),h.getMonth()),m=h.getDate()==l.getDate()||h.getDate()>=Math.min(d,v)&&l.getDate()>=Math.min(d,v),g=function(e){return(e.getHours()*60+e.getMinutes())*60+e.getSeconds()},y=Math.max(0,(h.getFullYear()-l.getFullYear())*12+h.getMonth()-l.getMonth()+(h.getDate()<l.getDate()&&!m||m&&g(h)<g(l)?-1:0));p[n]=t[n]?Math.floor(y/12):0,p[r]=t[r]?y-p[n]*12:0,l=new Date(l.getTime());var b=l.getDate()==d,w=c._getDaysInMonth(l.getFullYear()+p[n],l.getMonth()+p[r]);l.getDate()>w&&l.setDate(w),l.setFullYear(l.getFullYear()+p[n]),l.setMonth(l.getMonth()+p[r]),b&&l.setDate(w)}var E=Math.floor((h.getTime()-l.getTime())/1e3),x=function(e,n){p[e]=t[e]?Math.floor(E/n):0,E-=p[e]*n};x(i,604800),x(s,86400),x(o,3600),x(u,60),x(a,1);if(E>0&&!e._since){var T=[1,12,4.3482,7,24,60,60],N=a,C=1;for(var k=a;k>=n;k--)t[k]&&(p[N]>=C&&(p[N]=0,E=1),E>0&&(p[k]++,E=0,N=k,C=1)),C*=T[k]}if(f)for(var k=n;k<=a;k++)f&&p[k]?f--:f||(p[k]=0);return p}});var f=["getTimes"];e.fn.countdown=function(e){var t=Array.prototype.slice.call(arguments,1);return l(e,t)?c["_"+e+"Plugin"].apply(c,[this[0]].concat(t)):this.each(function(){if(typeof e=="string"){if(!c["_"+e+"Plugin"])throw"Unknown command: "+e;c["_"+e+"Plugin"].apply(c,[this].concat(t))}else c._attachPlugin(this,e||{})})};var c=e.countdown=new t}(jQuery),function(e){function o(i){return t=e(i.data.el),t.blur(),r=f(i).y,n=t.height()-r,t.css("opacity",.25),e(document).mousemove(u).mouseup(a),!1}function u(e){var s=f(e).y,o=n+s;return r>=s&&(o-=5),r=s,o=Math.max(i,o),t.height(o+"px"),o<i&&a(e),!1}function a(i){e(document).unbind("mousemove",u).unbind("mouseup",a),t.css("opacity",1),t.focus(),t=null,n=null,r=0}function f(e){return{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}}var t,n,r=0,i=32,s;e.fn.TextAreaResizer=function(){return this.each(function(){t=e(this).addClass("processed"),n=null,e(this).wrap('<div class="resizable-textarea"><span></span></div>').parent().append(e('<div class="grippie"></div>').bind("mousedown",{el:this},o));var r=e("div.grippie",e(this).parent())[0];r.style.marginRight=r.offsetWidth-e(this)[0].offsetWidth+"px"})}}(jQuery),function($){function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null},$.extend(this._defaults,this.regional[""])}function extendRemove(e,t){$.extend(e,t);for(var n in t)if(t[n]===null||t[n]===undefined)e[n]=t[n];return e}$.ui.timepicker=$.ui.timepicker||{};if($.ui.timepicker.version)return;$.extend($.ui,{timepicker:{version:"1.0.1"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={};for(var attrName in this._defaults){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,{beforeShow:function(e,t){if($.isFunction(o.beforeShow))return o.beforeShow(e,t,tp_inst)},onChangeMonthYear:function(e,t,n){tp_inst._updateDateTime(n),$.isFunction(o.onChangeMonthYear)&&o.onChangeMonthYear.call($input[0],e,t,n,tp_inst)},onClose:function(e,t){tp_inst.timeDefined===!0&&$input.val()!==""&&tp_inst._updateDateTime(t),$.isFunction(o.onClose)&&o.onClose.call($input[0],e,t,tp_inst)},timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()});if(tp_inst._defaults.timezoneList===null){var timezoneList=[];for(var i=-11;i<=12;i++)timezoneList.push((i>=0?"+":"-")+("0"+Math.abs(i).toString()).slice(-2)+"00");tp_inst._defaults.timezoneIso8601&&(timezoneList=$.map(timezoneList,function(e){return e=="+0000"?"Z":e.substring(0,3)+":"+e.substring(3)})),tp_inst._defaults.timezoneList=timezoneList}tp_inst.timezone=tp_inst._defaults.timezone,tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")}));if(tp_inst._defaults.minDate===0||tp_inst._defaults.minDateTime===0)tp_inst._defaults.minDate=new Date;if(tp_inst._defaults.maxDate===0||tp_inst._defaults.maxDateTime===0)tp_inst._defaults.maxDate=new Date;return tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){this.inst||(this.inst=$.datepicker._getInst(this.$input[0]));if(t||!this._defaults.timeOnly){var n=$.datepicker._get(this.inst,"dateFormat");try{var r=parseDateTimeInternal(n,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!r.timeObj)return!1;$.extend(this,r.timeObj)}catch(i){return!1}return!0}var s=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return s?($.extend(this,s),!0):!1},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this._defaults,n=this,r=parseInt(t.hourMax-(t.hourMax-t.hourMin)%t.stepHour,10),i=parseInt(t.minuteMax-(t.minuteMax-t.minuteMin)%t.stepMinute,10),s=parseInt(t.secondMax-(t.secondMax-t.secondMin)%t.stepSecond,10),o=parseInt(t.millisecMax-(t.millisecMax-t.millisecMin)%t.stepMillisec,10),u=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(e.find("div#ui-timepicker-div-"+u).length===0&&t.showTimepicker){var a=' style="display:none;"',f='<div class="ui-timepicker-div" id="ui-timepicker-div-'+u+'"><dl>'+'<dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+u+'"'+(t.showTime?"":a)+">"+t.timeText+"</dt>"+'<dd class="ui_tpicker_time" id="ui_tpicker_time_'+u+'"'+(t.showTime?"":a)+"></dd>"+'<dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+u+'"'+(t.showHour?"":a)+">"+t.hourText+"</dt>",l=0,c=0,h=0,p=0,d=null;f+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+u+'"'+(t.showHour?"":a)+"></div>";if(t.showHour&&t.hourGrid>0){f+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var v=t.hourMin;v<=r;v+=parseInt(t.hourGrid,10)){l++;var m=t.ampm&&v>12?v-12:v;m<10&&(m="0"+m),t.ampm&&(v===0?m="12a":v<12?m+="a":m+="p"),f+="<td>"+m+"</td>"}f+="</tr></table></div>"}f+="</dd>",f+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+
u+'"'+(t.showMinute?"":a)+">"+t.minuteText+"</dt>"+'<dd class="ui_tpicker_minute"><div id="ui_tpicker_minute_'+u+'"'+(t.showMinute?"":a)+"></div>";if(t.showMinute&&t.minuteGrid>0){f+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var g=t.minuteMin;g<=i;g+=parseInt(t.minuteGrid,10))c++,f+="<td>"+(g<10?"0":"")+g+"</td>";f+="</tr></table></div>"}f+="</dd>",f+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+u+'"'+(t.showSecond?"":a)+">"+t.secondText+"</dt>"+'<dd class="ui_tpicker_second"><div id="ui_tpicker_second_'+u+'"'+(t.showSecond?"":a)+"></div>";if(t.showSecond&&t.secondGrid>0){f+='<div style="padding-left: 1px"><table><tr>';for(var y=t.secondMin;y<=s;y+=parseInt(t.secondGrid,10))h++,f+="<td>"+(y<10?"0":"")+y+"</td>";f+="</tr></table></div>"}f+="</dd>",f+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+u+'"'+(t.showMillisec?"":a)+">"+t.millisecText+"</dt>"+'<dd class="ui_tpicker_millisec"><div id="ui_tpicker_millisec_'+u+'"'+(t.showMillisec?"":a)+"></div>";if(t.showMillisec&&t.millisecGrid>0){f+='<div style="padding-left: 1px"><table><tr>';for(var b=t.millisecMin;b<=o;b+=parseInt(t.millisecGrid,10))p++,f+="<td>"+(b<10?"0":"")+b+"</td>";f+="</tr></table></div>"}f+="</dd>",f+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+u+'"'+(t.showTimezone?"":a)+">"+t.timezoneText+"</dt>",f+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+u+'"'+(t.showTimezone?"":a)+"></dd>",f+="</dl></div>";var w=$(f);t.timeOnly===!0&&(w.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div>"+"</div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),this.hour_slider=w.find("#ui_tpicker_hour_"+u).slider({orientation:"horizontal",value:this.hour,min:t.hourMin,max:r,step:t.stepHour,slide:function(e,t){n.hour_slider.slider("option","value",t.value),n._onTimeChange()}}),this.minute_slider=w.find("#ui_tpicker_minute_"+u).slider({orientation:"horizontal",value:this.minute,min:t.minuteMin,max:i,step:t.stepMinute,slide:function(e,t){n.minute_slider.slider("option","value",t.value),n._onTimeChange()}}),this.second_slider=w.find("#ui_tpicker_second_"+u).slider({orientation:"horizontal",value:this.second,min:t.secondMin,max:s,step:t.stepSecond,slide:function(e,t){n.second_slider.slider("option","value",t.value),n._onTimeChange()}}),this.millisec_slider=w.find("#ui_tpicker_millisec_"+u).slider({orientation:"horizontal",value:this.millisec,min:t.millisecMin,max:o,step:t.stepMillisec,slide:function(e,t){n.millisec_slider.slider("option","value",t.value),n._onTimeChange()}}),this.timezone_select=w.find("#ui_tpicker_timezone_"+u).append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e,t){return $("<option />").val(typeof e=="object"?e.value:e).text(typeof e=="object"?e.label:e)}));if(typeof this.timezone!="undefined"&&this.timezone!==null&&this.timezone!==""){var E=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),S=timeZoneString(E);S==this.timezone?selectLocalTimeZone(n):this.timezone_select.val(this.timezone)}else typeof this.hour!="undefined"&&this.hour!==null&&this.hour!==""?this.timezone_select.val(t.defaultTimezone):selectLocalTimeZone(n);this.timezone_select.change(function(){n._defaults.useLocalTimezone=!1,n._onTimeChange()}),t.showHour&&t.hourGrid>0&&(d=100*l*t.hourGrid/(r-t.hourMin),w.find(".ui_tpicker_hour table").css({width:d+"%",marginLeft:d/(-2*l)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){var e=$(this).html();if(t.ampm){var r=e.substring(2).toLowerCase(),i=parseInt(e.substring(0,2),10);r=="a"?i==12?e=0:e=i:i==12?e=12:e=i+12}n.hour_slider.slider("option","value",e),n._onTimeChange(),n._onSelectHandler()}).css({cursor:"pointer",width:100/l+"%",textAlign:"center",overflow:"hidden"})})),t.showMinute&&t.minuteGrid>0&&(d=100*c*t.minuteGrid/(i-t.minuteMin),w.find(".ui_tpicker_minute table").css({width:d+"%",marginLeft:d/(-2*c)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){n.minute_slider.slider("option","value",$(this).html()),n._onTimeChange(),n._onSelectHandler()}).css({cursor:"pointer",width:100/c+"%",textAlign:"center",overflow:"hidden"})})),t.showSecond&&t.secondGrid>0&&w.find(".ui_tpicker_second table").css({width:d+"%",marginLeft:d/(-2*h)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){n.second_slider.slider("option","value",$(this).html()),n._onTimeChange(),n._onSelectHandler()}).css({cursor:"pointer",width:100/h+"%",textAlign:"center",overflow:"hidden"})}),t.showMillisec&&t.millisecGrid>0&&w.find(".ui_tpicker_millisec table").css({width:d+"%",marginLeft:d/(-2*p)+"%",borderCollapse:"collapse"}).find("td").each(function(e){$(this).click(function(){n.millisec_slider.slider("option","value",$(this).html()),n._onTimeChange(),n._onSelectHandler()}).css({cursor:"pointer",width:100/p+"%",textAlign:"center",overflow:"hidden"})});var x=e.find(".ui-datepicker-buttonpane");x.length?x.before(w):e.append(w),this.$timeObj=w.find("#ui_tpicker_time_"+u);if(this.inst!==null){var T=this.timeDefined;this._onTimeChange(),this.timeDefined=T}var N=function(){n._onSelectHandler()};this.hour_slider.bind("slidestop",N),this.minute_slider.bind("slidestop",N),this.second_slider.bind("slidestop",N),this.millisec_slider.bind("slidestop",N);if(this._defaults.addSliderAccess){var C=this._defaults.sliderAccessArgs;setTimeout(function(){if(w.find(".ui-slider-access").length===0){w.find(".ui-slider:visible").sliderAccess(C);var e=w.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&w.find("table:visible").each(function(){var t=$(this),n=t.outerWidth(),r=t.css("marginLeft").toString().replace("%",""),i=n-e,s=r*i/n+"%";t.css({width:i,marginLeft:s})})}},0)}}},_limitMinMaxDateTime:function(e,t){var n=this._defaults,r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(!this._defaults.showTimepicker)return;if($.datepicker._get(e,"minDateTime")!==null&&$.datepicker._get(e,"minDateTime")!==undefined&&r){var i=$.datepicker._get(e,"minDateTime"),s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)this.hourMinOriginal=n.hourMin,this.minuteMinOriginal=n.minuteMin,this.secondMinOriginal=n.secondMin,this.millisecMinOriginal=n.millisecMin;e.settings.timeOnly||s.getTime()==r.getTime()?(this._defaults.hourMin=i.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=i.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=i.getSeconds()):this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=i.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if($.datepicker._get(e,"maxDateTime")!==null&&$.datepicker._get(e,"maxDateTime")!==undefined&&r){var o=$.datepicker._get(e,"maxDateTime"),u=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)this.hourMaxOriginal=n.hourMax,this.minuteMaxOriginal=n.minuteMax,this.secondMaxOriginal=n.secondMax,this.millisecMaxOriginal=n.millisecMax;e.settings.timeOnly||u.getTime()==r.getTime()?(this._defaults.hourMax=o.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=o.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=o.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=o.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}if(t!==undefined&&t===!0){var a=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),f=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),l=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),c=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&this.hour_slider.slider("option",{min:this._defaults.hourMin,max:a}).slider("value",this.hour),this.minute_slider&&this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:f}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:l}).slider("value",this.second),this.millisec_slider&&this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:c}).slider("value",this.millisec)}},_onTimeChange:function(){var e=this.hour_slider?this.hour_slider.slider("value"):!1,t=this.minute_slider?this.minute_slider.slider("value"):!1,n=this.second_slider?this.second_slider.slider("value"):!1,r=this.millisec_slider?this.millisec_slider.slider("value"):!1,i=this.timezone_select?this.timezone_select.val():!1,s=this._defaults;typeof e=="object"&&(e=!1),typeof t=="object"&&(t=!1),typeof n=="object"&&(n=!1),typeof r=="object"&&(r=!1),typeof i=="object"&&(i=!1),e!==!1&&(e=parseInt(e,10)),t!==!1&&(t=parseInt(t,10)),n!==!1&&(n=parseInt(n,10)),r!==!1&&(r=parseInt(r,10));var o=s[e<12?"amNames":"pmNames"][0],u=e!=this.hour||t!=this.minute||n!=this.second||r!=this.millisec||this.ampm.length>0&&e<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||i!=this.timezone;u&&(e!==!1&&(this.hour=e),t!==!1&&(this.minute=t),n!==!1&&(this.second=n),r!==!1&&(this.millisec=r),i!==!1&&(this.timezone=i),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),s.ampm&&(this.ampm=o),this.formattedTime=$.datepicker.formatTime(this._defaults.timeFormat,this,this._defaults),this.$timeObj&&this.$timeObj.text(this.formattedTime+s.timeSuffix),this.timeDefined=!0,u&&this._updateDateTime()},_onSelectHandler:function(){var e=this._defaults.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_formatTime:function(e,t){e=e||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone};var n=(t||this._defaults.timeFormat).toString();n=$.datepicker.formatTime(n,e,this._defaults);if(arguments.length)return n;this.formattedTime=n},_updateDateTime:function(e){e=this.inst||e;var t=$.datepicker._daylightSavingAdjust(new Date(e.selectedYear,e.selectedMonth,e.selectedDay)),n=$.datepicker._get(e,"dateFormat"),r=$.datepicker._getFormatConfig(e),i=t!==null&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(n,t===null?new Date:t,r);var s=this.formattedDate;this._defaults.timeOnly===!0?s=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||i)&&(s+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=s,this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===!0?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$altInput.val(s),this.$input.val(s)):this.$input.val(s):this.$input.val(this.formattedDate),this.$input.trigger("change")}}),$.fn.extend({timepicker:function(e){e=e||{};var t=arguments;return typeof e=="object"&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){e=e||{};var t=arguments;return typeof e=="string"?e=="getDate"?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var e=$(this);e.datepicker.apply(e,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.parseDateTime=function(e,t,n,r,i){var s=parseDateTimeInternal(e,t,n,r,i);if(s.timeObj){var o=s.timeObj;s.date.setHours(o.hour,o.minute,o.second,o.millisec)}return s.date},$.datepicker.parseTime=function(e,t,n){var r=function(e,t){var n=[];return e&&$.merge(n,e),t&&$.merge(n,t),n=$.map(n,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+n.join("|")+")?"},i=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),n={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(t)for(var r=0;r<t.length;r++)n[t[r].toString().charAt(0)]==-1&&(n[t[r].toString().charAt(0)]=r+1);return n},s=extendRemove(extendRemove({},$.timepicker._defaults),n||{}),o="^"+e.toString().replace(/h{1,2}/ig,"(\\d?\\d)").replace(/m{1,2}/ig,"(\\d?\\d)").replace(/s{1,2}/ig,"(\\d?\\d)").replace(/l{1}/ig,"(\\d?\\d?\\d)").replace(/t{1,2}/ig,r(s.amNames,s.pmNames)).replace(/z{1}/ig,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+s.timeSuffix+"$",u=i(e),a="",f;f=t.match(new RegExp(o,"i"));var l={hour:0,minute:0,second:0,millisec:0};if(f){u.t!==-1&&(f[u.t]===undefined||f[u.t].length===0?(a="",l.ampm=""):(a=$.inArray(f[u.t],s.amNames)!==-1?"AM":"PM",l.ampm=s[a=="AM"?"amNames":"pmNames"][0])),u.h!==-1&&(a=="AM"&&f[u.h]=="12"?l.hour=0:a=="PM"&&f[u.h]!="12"?l.hour=parseInt(f[u.h],10)+12:l.hour=Number(f[u.h])),u.m!==-1&&(l.minute=Number(f[u.m])),u.s!==-1&&(l.second=Number(f[u.s])),u.l!==-1&&(l.millisec=Number(f[u.l]));if(u.z!==-1&&f[u.z]!==undefined){var c=f[u.z].toUpperCase();switch(c.length){case 1:c=s.timezoneIso8601?"Z":"+0000";break;case 5:s.timezoneIso8601&&(c=c.substring(1)=="0000"?"Z":c.substring(0,3)+":"+c.substring(3));break;case 6:s.timezoneIso8601?c.substring(1)=="00:00"&&(c="Z"):c=c=="Z"||c.substring(1)=="00:00"?"+0000":c.replace(/:/,"")}l.timezone=c}return l}return!1},$.datepicker.formatTime=function(e,t,n){n=n||{},n=$.extend($.timepicker._defaults,n),t=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},t);var r=e,i=n.amNames[0],s=parseInt(t.hour,10);return n.ampm&&(s>11&&(i=n.pmNames[0],s>12&&(s%=12)),s===0&&(s=12)),r=r.replace(/(?:hh?|mm?|ss?|[tT]{1,2}|[lz])/g,function(e){switch(e.toLowerCase()){case"hh":return("0"+s).slice(-2);case"h":return s;case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"z":return t.timezone;case"t":case"tt":if(n.ampm)return e.length==1&&(i=i.charAt(0)),e.charAt(0)=="T"?i.toUpperCase():i.toLowerCase();return""}}),r=$.trim(r),r},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var n=this._getInst($(e)[0]),r=this._get(n,"timepicker");r?(r._limitMinMaxDateTime(n,!0),n.inline=n.stay_open=!0,this._base_selectDate(e,t),n.inline=n.stay_open=!1,this._notifyChange(n),this._updateDatepicker(n)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if($.datepicker._curInst&&$.datepicker._curInst!=e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t)return;if(typeof e.stay_open!="boolean"||e.stay_open===!1){this._base_updateDatepicker(e);var n=this._get(e,"timepicker");if(n){n._addTimePicker(e);if(n._defaults.useLocalTimezone){var r=new Date(e.selectedYear,e.selectedMonth,e.selectedDay,12);selectLocalTimeZone(n,r),n._onTimeChange()}}}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&$.datepicker._get(t,"constrainInput")){var r=n._defaults.ampm,i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),s=n._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,r?"APM":"").replace(/Tt/g,r?"AaPpMm":"").replace(/tT/g,r?"AaPpMm":"").replace(/T/g,r?"AP":"").replace(/tt/g,r?"apm":"").replace(/t/g,r?"ap":"")+" "+n._defaults.separator+n._defaults.timeSuffix+(n._defaults.showTimezone?n._defaults.timezoneList.join(""):"")+n._defaults.amNames.join("")+n._defaults.pmNames.join("")+i,o=String.fromCharCode(e.charCode===undefined?e.keyCode:e.charCode);return e.ctrlKey||o<" "||!i||s.indexOf(o)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),n=$.datepicker._get(t,"timepicker");if(n&&n._defaults.timeOnly&&t.input.val()!=t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(r){$.datepicker.log(r)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),n=t.dpDiv;this._base_gotoToday(e);var r=this._get(t,"timepicker");selectLocalTimeZone(r);var i=new Date;this._setTime(t,i),$(".ui-datepicker-today",n).click()},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(!t)return;var n=this._get(t,"timepicker");$(e).datepicker("getDate"),n&&(n._defaults.showTimepicker=!1,n._updateDateTime(t))},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(!t)return;var n=this._get(t,"timepicker");$(e).datepicker("getDate"),n&&(n._defaults.showTimepicker=!0,n._addTimePicker(t),n._updateDateTime(t))},$.datepicker._setTime=function(e,t){var n=this._get(e,"timepicker");if(n){var r=n._defaults,i=t?t.getHours():r.hour,s=t?t.getMinutes():r.minute,o=t?t.getSeconds():r.second,u=t?t.getMilliseconds():r.millisec,a=i===r.hourMin,f=s===r.minuteMin,l=o===r.secondMin,c=!1;i<r.hourMin||i>r.hourMax?c=!0:(s<r.minuteMin||s>r.minuteMax)&&a?c=!0:(o<r.secondMin||o>r.secondMax)&&a&&f?c=!0:(u<r.millisecMin||u>r.millisecMax)&&a&&f&&l&&(c=!0),c&&(i=r.hourMin,s=r.minuteMin,o=r.secondMin,u=r.millisecMin),n.hour=i,n.minute=s,n.second=o,n.millisec=u,n.hour_slider&&n.hour_slider.slider("value",i),n.minute_slider&&n.minute_slider.slider("value",s),n.second_slider&&n.second_slider.slider("value",o),n.millisec_slider&&n.millisec_slider.slider("value",u),n._onTimeChange(),n._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,n){var r=this._getInst(e);if(!r)return;var i=this._get(r,"timepicker");if(i){this._setDateFromField(r);var s;t&&(typeof t=="string"?(i._parseTime(t,n),s=new Date,s.setHours(i.hour,i.minute,i.second,i.millisec)):s=new Date(t.getTime()),s.toString()=="Invalid Date"&&(s=undefined),this._setTime(r,s))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var n=this._getInst(e);if(!n)return;var r=t instanceof Date?new Date(t.getTime()):t;this._updateDatepicker(n),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,r,!0)},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var n=this._getInst(e);if(!n)return;var r=this._get(n,"timepicker");if(r){this._setDateFromField(n,t);var i=this._getDate(n);return i&&r._parseTime($(e).val(),r.timeOnly)&&i.setHours(r.hour,r.minute,r.second,r.millisec),i}return this._base_getDateDatepicker(e,t)},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,n){var r=splitDateTime(e,t,n);return $.datepicker._base_parseDate(e,r[0],n)},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,n,r){var i=this._get(e,"timepicker");return i?(i._updateDateTime(e),i.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,n){var r=this._getInst(e);if(!r)return null;var i=this._get(r,"timepicker");if(i){var s=null,o=null,u=null;typeof t=="string"?t==="minDate"||t==="minDateTime"?s=n:t==="maxDate"||t==="maxDateTime"?o=n:t==="onSelect"&&(u=n):typeof t=="object"&&(t.minDate?s=t.minDate:t.minDateTime?s=t.minDateTime:t.maxDate?o=t.maxDate:t.maxDateTime&&(o=t.maxDateTime)),s?(s===0?s=new Date:s=new Date(s),i._defaults.minDate=s,i._defaults.minDateTime=s):o?(o===0?o=new Date:o=new Date(o),i._defaults.maxDate=o,i._defaults.maxDateTime=o):u&&(i._defaults.onSelect=u)}return n===undefined?this._base_optionDatepicker(e,t):this._base_optionDatepicker(e,t,n)};var splitDateTime=function(e,t,n){try{var r=$.datepicker._base_parseDate(e,t,n)}catch(i){if(i.indexOf(":")>=0){var s=t.length-(i.length-i.indexOf(":")-2),o=t.substring(s);return[t.substring(0,s),t.substring(s)]}throw i}return[t,""]},parseDateTimeInternal=function(e,t,n,r,i){var s,o=splitDateTime(e,n,r);s=$.datepicker._base_parseDate(e,o[0],r);if(o[1]!==""){var u=o[1],a=i&&i.separator?i.separator:$.timepicker._defaults.separator;if(u.indexOf(a)!==0)throw"Missing time separator";u=u.substring(a.length);var f=$.datepicker.parseTime(t,u,i);if(f===null)throw"Wrong time format";return{date:s,timeObj:f}}return{date:s}},selectLocalTimeZone=function(e,t){if(e&&e.timezone_select){e._defaults.useLocalTimezone=!0;var n=typeof t!="undefined"?t:new Date,r=timeZoneString(n);e._defaults.timezoneIso8601&&(r=r.substring(0,3)+":"+r.substring(3)),e.timezone_select.val(r)}},timeZoneString=function(e){var t=e.getTimezoneOffset()*-10100/60,n=(t>=0?"+":"-")+Math.abs(t).toString().substr(1);return n};$.timepicker=new Timepicker,$.timepicker.version="1.0.1"}(jQuery),function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};$.toJSON=typeof JSON=="object"&&JSON.stringify?JSON.stringify:function(e){if(e===null)return"null";var t=typeof e;if(t==="undefined")return undefined;if(t==="number"||t==="boolean")return""+e;if(t==="string")return $.quoteString(e);if(t==="object"){if(typeof e.toJSON=="function")return $.toJSON(e.toJSON());if(e.constructor===Date){var n=e.getUTCMonth()+1,r=e.getUTCDate(),i=e.getUTCFullYear(),s=e.getUTCHours(),o=e.getUTCMinutes(),u=e.getUTCSeconds(),a=e.getUTCMilliseconds();return n<10&&(n="0"+n),r<10&&(r="0"+r),s<10&&(s="0"+s),o<10&&(o="0"+o),u<10&&(u="0"+u),a<100&&(a="0"+a),a<10&&(a="0"+a),'"'+i+"-"+n+"-"+r+"T"+s+":"+o+":"+u+"."+a+'Z"'}if(e.constructor===Array){var f=[];for(var l=0;l<e.length;l++)f.push($.toJSON(e[l])||"null");return"["+f.join(",")+"]"}var c,h,p=[];for(var d in e){t=typeof d;if(t==="number")c='"'+d+'"';else{if(t!=="string")continue;c=$.quoteString(d)}t=typeof e[d];if(t==="function"||t==="undefined")continue;h=$.toJSON(e[d]),p.push(c+":"+h)}return"{"+p.join(",")+"}"}},$.evalJSON=typeof JSON=="object"&&JSON.parse?JSON.parse:function(src){return eval("("+src+")")},$.secureEvalJSON=typeof JSON=="object"&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(e){return e.match(escapeable)?'"'+e.replace(escapeable,function(e){var t=meta[e];return typeof t=="string"?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}}(jQuery),function(e){typeof define=="function"&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(e){function n(e){return e}function r(e){return decodeURIComponent(e.replace(t," "))}function i(e){e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s.json?JSON.parse(e):e}catch(t){}}var t=/\+/g,s=e.cookie=function(t,o,u){if(o!==undefined){u=e.extend({},s.defaults,u);if(typeof u.expires=="number"){var a=u.expires,f=u.expires=new Date;f.setDate(f.getDate()+a)}return o=s.json?JSON.stringify(o):String(o),document.cookie=[encodeURIComponent(t),"=",s.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}var l=s.raw?n:r,c=document.cookie.split("; "),h=t?undefined:{};for(var p=0,d=c.length;p<d;p++){var v=c[p].split("="),m=l(v.shift()),g=l(v.join("="));if(t&&t===m){h=i(g);break}t||(h[m]=i(g))}return h};s.defaults={},e.removeCookie=function(t,n){return e.cookie(t)!==undefined?(e.cookie(t,"",e.extend(n,{expires:-1})),!0):!1}}),function(e){function l(){var e=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),e=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(e)try{window.localStorage&&(n=window.localStorage,u="localStorage")}catch(i){}else if("globalStorage"in window)try{window.globalStorage&&(n=window.globalStorage[window.location.hostname],u="globalStorage")}catch(s){}else{r=document.createElement("link");if(!r.addBehavior){r=null;return}r.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(r),r.load("jStorage");var o="{}";try{o=r.getAttribute("jStorage")}catch(a){}n.jStorage=o,u="userDataBehavior"}c(),d()}function c(){if(n.jStorage)try{t=o(String(n.jStorage))}catch(e){n.jStorage="{}"}else n.jStorage="{}";i=n.jStorage?String(n.jStorage).length:0}function h(){try{n.jStorage=s(t),r&&(r.setAttribute("jStorage",n.jStorage),r.save("jStorage")),i=n.jStorage?String(n.jStorage).length:0}catch(e){}}function p(e){if(!e||typeof e!="string"&&typeof e!="number")throw new TypeError("Key name must be string or numeric");if(e=="__jstorage_meta")throw new TypeError("Reserved key name");return!0}function d(){var e,n,r,i=Infinity,s=!1;clearTimeout(a);if(!t.__jstorage_meta||typeof t.__jstorage_meta.TTL!="object")return;e=+(new Date),r=t.__jstorage_meta.TTL;for(n in r)r.hasOwnProperty(n)&&(r[n]<=e?(delete r[n],delete t[n],s=!0):r[n]<i&&(i=r[n]));i!=Infinity&&(a=setTimeout(d,i-e)),s&&h()}if(!e||!(e.toJSON||Object.toJSON||window.JSON))throw new Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");var t={},n={jStorage:"{}"},r=null,i=0,s=e.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),o=e.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(e){return String(e).evalJSON()},u=!1,a,f={isXML:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1},encode:function(e){if(!this.isXML(e))return!1;try{return(new XMLSerializer).serializeToString(e)}catch(t){try{return e.xml}catch(n){}}return!1},decode:function(e){var t="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t},n;return t?(n=t.call("DOMParser"in window&&new DOMParser||window,e,"text/xml"),this.isXML(n)?n:!1):!1}};e.jStorage={version:"0.1.7.0",set:function(e,n,r){return p(e),r=r||{},f.isXML(n)?n={_is_xml:!0,xml:f.encode(n)}:typeof n=="function"?n=null:n&&typeof n=="object"&&(n=o(s(n))),t[e]=n,isNaN(r.TTL)?h():this.setTTL(e,r.TTL),n},get:function(e,n){return p(e),e in t?t[e]&&typeof t[e]=="object"&&t[e]._is_xml&&t[e]._is_xml?f.decode(t[e].xml):t[e]:typeof n=="undefined"?null:n},deleteKey:function(e){return p(e),e in t?(delete t[e],t.__jstorage_meta&&typeof t.__jstorage_meta.TTL=="object"&&e in t.__jstorage_meta.TTL&&delete t.__jstorage_meta.TTL[e],h(),!0):!1},setTTL:function(e,n){var r=+(new Date);return p(e),n=Number(n)||0,e in t?(t.__jstorage_meta||(t.__jstorage_meta={}),t.__jstorage_meta.TTL||(t.__jstorage_meta.TTL={}),n>0?t.__jstorage_meta.TTL[e]=r+n:delete t.__jstorage_meta.TTL[e],h(),d(),!0):!1},flush:function(){return t={},h(),!0},storageObj:function(){function e(){}return e.prototype=t,new e},index:function(){var e=[],n;for(n in t)t.hasOwnProperty(n)&&n!="__jstorage_meta"&&e.push(n);return e},storageSize:function(){return i},currentBackend:function(){return u},storageAvailable:function(){return!!u},reInit:function(){var e,t;if(r&&r.addBehavior){e=document.createElement("link"),r.parentNode.replaceChild(e,r),r=e,r.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(r),r.load("jStorage"),t="{}";try{t=r.getAttribute("jStorage")}catch(i){}n.jStorage=t,u="userDataBehavior"}c()}},l()}(window.$||window.jQuery),function(e){var t=function(){"use strict";var e="s",n=function(e){var t=-e.getTimezoneOffset();return t!==null?t:0},r=function(e,t,n){var r=new Date;return e!==undefined&&r.setFullYear(e),r.setDate(n),r.setMonth(t),r},i=function(e){return n(r(e,0,2))},s=function(e){return n(r(e,5,2))},o=function(e){var t=e.getMonth()>7?s(e.getFullYear()):i(e.getFullYear()),r=n(e);return t-r!==0},u=function(){var t=i(),n=s(),r=i()-s();return r<0?t+",1":r>0?n+",1,"+e:t+",0"},a=function(){var e=u();return new t.TimeZone(t.olson.timezones[e])},f=function(e){var t=new Date(2010,6,15,1,0,0,0),n={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Kamchatka":t,"Europe/Minsk":t,"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return n[e]};return{determine:a,date_is_dst:o,dst_start_for:f}}();t.TimeZone=function(e){"use strict";var n={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Beirut","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Asia/Gaza"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},r=e,i=function(){var e=n[r],i=e.length,s=0,o=e[0];for(;s<i;s+=1){o=e[s];if(t.date_is_dst(t.dst_start_for(o))){r=o;return}}},s=function(){return typeof n[r]!="undefined"};return s()&&i(),{name:function(){return r}}},t.olson={},t.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires"
,"-180,1,s":"America/Montevideo","-120,0":"Etc/GMT+2","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},typeof exports!="undefined"?exports.jstz=t:e.jstz=t}(this);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"/static/ZeroClipboard.swf",nextId:1,$:function(e){return typeof e=="string"&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){var t=this.className.split(/\s+/),n=-1;for(var r=0;r<t.length;r++)t[r]==e&&(n=r,r=t.length);return n>-1&&(t.splice(n,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},newClient:function(){return new ZeroClipboard.Client},dispatch:function(e,t,n){var r=this.clients[e];r&&r.receiveEvent(t,n)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e,t){var n={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};while(e&&e!=t)n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent;return n},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,zIndex:99,glue:function(e,t,n){this.domElement=ZeroClipboard.$(e),this.domElement.style.zIndex&&(this.zIndex=parseInt(this.domElement.style.zIndex,10)+1),typeof t=="string"?t=ZeroClipboard.$(t):typeof t=="undefined"&&(t=document.getElementsByTagName("body")[0]);var r=ZeroClipboard.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div");var i=this.div.style;i.position="absolute",i.left=""+r.left+"px",i.top=""+r.top+"px",i.width=""+r.width+"px",i.height=""+r.height+"px",i.zIndex=this.zIndex;if(typeof n=="object")for(var s in n)i[s]=n[s];t.appendChild(this.div),this.div.innerHTML=this.getHTML(r.width,r.height)},getHTML:function(e,t){var n="",r="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var i=location.href.match(/^https/i)?"https://":"http://";n+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+i+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+r+'"/><param name="wmode" value="transparent"/></object>'}else n+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+r+'" wmode="transparent" />';return n},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(t){}this.domElement=null,this.div=null}},reposition:function(e){e&&(this.domElement=ZeroClipboard.$(e),this.domElement||this.hide());if(this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),n=this.div.style;n.left=""+t.left+"px",n.top=""+t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){e=e.toString().toLowerCase().replace(/^on/,"");switch(e){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var n=this;setTimeout(function(){n.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var n=this;setTimeout(function(){n.receiveEvent("load",null)},100),this.ready=!0;return}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var r=0,i=this.handlers[e].length;r<i;r++){var s=this.handlers[e][r];typeof s=="function"?s(this,t):typeof s=="object"&&s.length==2?s[0][s[1]](this,t):typeof s=="string"&&window[s](this,t)}}};var guiders=function(e){var t={};t.version="1.2.8",t._defaultSettings={attachTo:null,autoFocus:!1,buttons:[{name:"Close"}],buttonCustomHTML:"",classString:null,closeOnEscape:!1,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",highlight:null,isHashable:!0,offset:{top:null,left:null},onClose:null,onHide:null,onShow:null,overlay:!1,position:0,title:"Sample title goes here",width:400,xButton:!1,isFixed:!1},t._htmlSkeleton=["<div class='guider'>","  <div class='guider_content'>","    <h1 class='guider_title'></h1>","    <div class='guider_close'></div>","    <p class='guider_description'></p>","    <div class='guider_buttons'>","    </div>","  </div>","  <div class='guider_arrow'>","  </div>","</div>"].join(""),t._arrowSize=42,t._backButtonTitle="Back",t._buttonElement="<a></a>",t._buttonAttributes={href:"javascript:void(0);"},t._closeButtonTitle="Close",t._currentGuiderID=null,t._guiders={},t._lastCreatedGuiderID=null,t._nextButtonTitle="Next",t._offsetNameMapping={topLeft:11,top:12,topRight:1,rightTop:2,right:3,rightBottom:4,bottomRight:5,bottom:6,bottomLeft:7,leftBottom:8,left:9,leftTop:10},t._windowHeight=0,t._addButtons=function(n){var r=n.elem.find(".guider_buttons");if(n.buttons===null||n.buttons.length===0){r.remove();return}for(var i=n.buttons.length-1;i>=0;i--){var s=n.buttons[i],o=e(t._buttonElement,e.extend({"class":"guider_button",html:s.name},t._buttonAttributes,s.html||{}));typeof s.classString!="undefined"&&s.classString!==null&&o.addClass(s.classString),r.append(o);var u=s.name.toLowerCase();if(s.onclick)o.bind("click",s.onclick);else switch(u){case t._closeButtonTitle.toLowerCase():o.bind("click",function(){t.hideAll(),n.onClose&&n.onClose(n,!1)});break;case t._nextButtonTitle.toLowerCase():o.bind("click",function(){!n.elem.data("locked")&&t.next()});break;case t._backButtonTitle.toLowerCase():o.bind("click",function(){!n.elem.data("locked")&&t.prev()})}}if(n.buttonCustomHTML!==""){var a=e(n.buttonCustomHTML);n.elem.find(".guider_buttons").append(a)}n.buttons.length===0&&r.remove()},t._addXButton=function(n){var r=n.elem.find(".guider_close"),i=e("<div></div>",{"class":"x_button",role:"button"});r.append(i),i.click(function(){t.hideAll(),n.onClose&&n.onClose(n,!0)})},t._wireEscape=function(n){e(document).keydown(function(e){if(e.keyCode==27||e.which==27)return t.hideAll(),n.onClose&&n.onClose(n,!0),!1})},t._unWireEscape=function(t){e(document).unbind("keydown")},t._attach=function(n){if(typeof n!="object")return;var r=e(n.attachTo),i=n.elem.innerHeight(),s=n.elem.innerWidth();if(n.position===0||r.length===0){n.elem.css("position","fixed"),n.elem.css("top",(e(window).height()-i)/3+"px"),n.elem.css("left",(e(window).width()-s)/2+"px");return}var o=r.offset(),u=o.top,a=o.left,f=e("body").outerHeight(!0)-e("body").outerHeight(!1);u-=f,t._offsetNameMapping[n.position]&&(n.position=t._offsetNameMapping[n.position]);var l=r.innerHeight(),c=r.innerWidth(),h=.9*t._arrowSize,p={1:[-h-i,c-s],2:[0,h+c],3:[l/2-i/2,h+c],4:[l-i,h+c],5:[h+l,c-s],6:[h+l,c/2-s/2],7:[h+l,0],8:[l-i,-s-h],9:[l/2-i/2,-s-h],10:[0,-s-h],11:[-h-i,0],12:[-h-i,c/2-s/2]},d=p[n.position];u+=d[0],a+=d[1];var v="absolute";if(r.css("position")=="fixed"||n.isFixed)v="fixed",u-=e(window).scrollTop(),a-=e(window).scrollLeft();return n.offset.top!==null&&(u+=n.offset.top),n.offset.left!==null&&(a+=n.offset.left),n.elem.css({position:v,top:u,left:a})},t._guiderById=function(e){if(typeof t._guiders[e]=="undefined")throw"Cannot find guider with id "+e;return t._guiders[e]},t._showOverlay=function(){e("#guider_overlay").fadeIn("fast",function(){this.style.removeAttribute&&this.style.removeAttribute("filter")})},t._highlightElement=function(t){e(t).addClass("guider_highlight")},t._dehighlightElement=function(t){e(t).removeClass("guider_highlight")},t._hideOverlay=function(){e("#guider_overlay").fadeOut("fast")},t._initializeOverlay=function(){e("#guider_overlay").length===0&&e('<div id="guider_overlay"></div>').hide().appendTo("body")},t._styleArrow=function(n){var r=n.position||0;if(!r)return;var i=e(n.elem.find(".guider_arrow")),s={1:"guider_arrow_down",2:"guider_arrow_left",3:"guider_arrow_left",4:"guider_arrow_left",5:"guider_arrow_up",6:"guider_arrow_up",7:"guider_arrow_up",8:"guider_arrow_right",9:"guider_arrow_right",10:"guider_arrow_right",11:"guider_arrow_down",12:"guider_arrow_down"};i.addClass(s[r]);var o=n.elem.innerHeight(),u=n.elem.innerWidth(),a=t._arrowSize/2,f={1:["right",a],2:["top",a],3:["top",o/2-a],4:["bottom",a],5:["right",a],6:["left",u/2-a],7:["left",a],8:["bottom",a],9:["top",o/2-a],10:["top",a],11:["left",a],12:["left",u/2-a]},r=f[n.position];i.css(r[0],r[1]+"px"),i.hasClass("guider_arrow_down")&&i.css("top",o+"px")},t._showIfHashed=function(e){var n="guider=",r=window.location.hash.indexOf(n);if(r!==-1){var i=window.location.hash.substr(r+n.length);e.id.toLowerCase()===i.toLowerCase()&&t.show(e.id)}},t.reposition=function(){var e=t._guiders[t._currentGuiderID];t._attach(e)},t.currentID=function(){return t._currentGuiderID},t.next=function(){var e=t._guiders[t._currentGuiderID];if(typeof e=="undefined")return;e.elem.data("locked",!0);var n=e.next||null;if(n!==null&&n!==""){var r=t._guiderById(n),i=r.overlay?!0:!1;t.hideAll(i,!0),e&&e.highlight&&t._dehighlightElement(e.highlight),t.show(n)}},t.prev=function(){var e=t._guiders[t._currentGuiderID];if(typeof e=="undefined")return;if(e.prev===null)return;var n=t._guiders[e.prev];n.elem.data("locked",!0);var r=n.id||null;if(r!==null&&r!==""){var i=t._guiderById(r),s=i.overlay?!0:!1;t.hideAll(s,!0),n&&n.highlight&&t._dehighlightElement(n.highlight),t.show(r)}},t.createGuider=function(n){if(n===null||n===undefined)n={};myGuider=e.extend({},t._defaultSettings,n),myGuider.id=myGuider.id||String(Math.floor(Math.random()*1e3));var r=e(t._htmlSkeleton);myGuider.elem=r,typeof myGuider.classString!="undefined"&&myGuider.classString!==null&&myGuider.elem.addClass(myGuider.classString),myGuider.elem.css("width",myGuider.width+"px");var i=r.find(".guider_title");return i.html(myGuider.title),r.find(".guider_description").html(myGuider.description),t._addButtons(myGuider),myGuider.xButton&&t._addXButton(myGuider),r.hide(),r.appendTo("body"),r.attr("id",myGuider.id),typeof myGuider.attachTo!="undefined"&&myGuider!==null&&t._attach(myGuider)&&t._styleArrow(myGuider),t._initializeOverlay(),t._guiders[myGuider.id]=myGuider,t._lastCreatedGuiderID!=null&&(myGuider.prev=t._lastCreatedGuiderID),t._lastCreatedGuiderID=myGuider.id,myGuider.isHashable&&t._showIfHashed(myGuider),t},t.hideAll=function(n,r){r=r||!1,e(".guider:visible").each(function(n,i){var s=t._guiderById(e(i).attr("id"));s.onHide&&s.onHide(s,r)}),e(".guider").fadeOut("fast");var i=t._guiders[t._currentGuiderID];return i&&i.highlight&&t._dehighlightElement(i.highlight),(typeof n=="undefined"||n!==!0)&&t._hideOverlay(),t},t.show=function(n){!n&&t._lastCreatedGuiderID&&(n=t._lastCreatedGuiderID);var r=t._guiderById(n);r.overlay&&(t._showOverlay(),r.highlight&&t._highlightElement(r.highlight)),r.closeOnEscape?t._wireEscape(r):t._unWireEscape(r),r.onShow&&r.onShow(r),t._attach(r)&&t._styleArrow(r),r.elem.fadeIn("fast").data("locked",!1),t._currentGuiderID=n;var i=t._windowHeight=e(window).height(),s=e(window).scrollTop(),o=r.elem.offset(),u=r.elem.height(),a=s+i<o.top+u,f=o.top<s;return r.autoFocus&&(a||f)&&setTimeout(t.scrollToCurrent,10),e(r.elem).trigger("guiders.show"),t},t.scrollToCurrent=function(){var n=t._guiders[t._currentGuiderID];if(typeof n=="undefined")return;var r=t._windowHeight,i=e(window).scrollTop(),s=n.elem.offset(),o=n.elem.height(),u=Math.round(Math.max(s.top+o/2-r/2,0));window.scrollTo(0,u)};var n=undefined;return e(window).resize(function(){typeof n!="undefined"&&clearTimeout(n),n=setTimeout(function(){n=undefined,typeof t!="undefined"&&t.reposition()},20)}),t}.call(this,jQuery);!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.parent('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f=e.Event("slide",{relatedTarget:i[0]});this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u]();if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})})}(window.jQuery),!function(e){"use strict";function r(){i(e(t)).removeClass("open")}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider) a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",r),e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1).focus(),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?e(document).on("keyup.dismiss.modal",function(e){e.which==27&&t.hide()}):this.isShown||e(document).off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.show)return n.show();n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u;if(this.hasContent()&&this.enabled){t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,n=/in/.test(o),t.remove().css({top:0,left:0,display:"block"}).appendTo(n?this.$element:document.body),this.options.math&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,t.get()]),r=this.getPosition(n),i=t[0].offsetWidth,s=t[0].offsetHeight,o=="right"&&r.left+r.width>e(window).width()-i-20&&(o="left");switch(n?o.split(" ")[1]:o){case"bottom":u={top:r.top+r.height,left:r.left+r.width/2-i/2};break;case"top":u={top:r.top-s,left:r.left+r.width/2-i/2};break;case"left":u={top:r.top+r.height/2-s/2,left:r.left-i-10};break;case"right":u={top:r.top+r.height/2-s/2,left:r.left+r.width}}t.css(u).addClass(o).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){var n,r;if(this.$element[0].getBoundingClientRect){var i=this.$element[0].getBoundingClientRect();n=i.right-i.left,r=i.bottom-i.top}else n=this.$element[0].offsetWidth,r=this.$element[0].offsetHeight;return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:n,height:r})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0,math:!1}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort
(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})})}(window.jQuery);var providers,openid;(function($){openid={version:"1.3",demo:!1,demo_text:null,cookie_expires:180,cookie_name:"openid_provider",cookie_path:"/",img_path:"/static/img/",locale:null,sprite:null,signin_text:null,all_small:!1,no_sprite:!1,image_title:"{provider}",input_id:null,provider_url:null,provider_id:null,init:function(e){providers=$.extend({},providers_large,providers_small);var t=$("#openid_btns");this.input_id=e,$("#openid_choice").show(),$("#openid_input_area").empty();var n=0;for(id in providers_large)box=this.getBoxHTML(id,providers_large[id],this.all_small?"small":"large",n++),t.append(box);if(providers_small){t.append("<br/>");for(id in providers_small)box=this.getBoxHTML(id,providers_small[id],"small",n++),t.append(box)}$("#openid_form").submit(this.submit);var r=this.readCookie();r&&this.signin(r,!0)},getBoxHTML:function(e,t,n,r){if(this.no_sprite){var i=n=="small"?".ico.gif":".gif";return'<a title="'+this.image_title.replace("{provider}",t.name)+'" href="javascript:openid.signin(\''+e+"');\""+' style="background: #FFF url('+this.img_path+"../images."+n+"/"+e+i+') no-repeat center center" '+'class="'+e+" openid_"+n+'_btn"></a>'}var s=n=="small"?-r*24:-r*100,o=n=="small"?-60:0;return'<a title="'+this.image_title.replace("{provider}",t.name)+'" href="javascript:openid.signin(\''+e+"');\""+' style="background: #FFF url('+this.img_path+"openid-providers-"+this.sprite+".png?v=2); background-position: "+s+"px "+o+'px" '+'class="'+e+" openid_"+n+'_btn"></a>'},signin:function(e,t){var n=providers[e];if(!n)return;this.highlight(e),this.setCookie(e),this.provider_id=e,this.provider_url=n.url,n.label?this.useInputBox(n):($("#openid_input_area").empty(),t||$("#openid_form").submit())},submit:function(){var url=openid.provider_url;return url&&(url=url.replace("{username}",$("#openid_username").val()),openid.setOpenIdUrl(url)),openid.demo?(alert(openid.demo_text+"\r\n"+document.getElementById(openid.input_id).value),!1):url.indexOf("javascript:")==0?(url=url.substr("javascript:".length),eval(url),!1):!0},setOpenIdUrl:function(e){var t=document.getElementById(this.input_id);t!=null?t.value=e:$("#openid_form").append('<input type="hidden" id="'+this.input_id+'" name="'+this.input_id+'" value="'+e+'"/>')},highlight:function(e){var t=$("#openid_highlight");t&&t.replaceWith($("#openid_highlight a")[0]),$("#openid_btns > ."+e).wrap('<div id="openid_highlight"></div>')},setCookie:function(e){var t=new Date;t.setTime(t.getTime()+this.cookie_expires*24*60*60*1e3);var n="; expires="+t.toGMTString();document.cookie=this.cookie_name+"="+e+n+"; path="+this.cookie_path},readCookie:function(){var e=this.cookie_name+"=",t=document.cookie.split(";");for(var n=0;n<t.length;n++){var r=t[n];while(r.charAt(0)==" ")r=r.substring(1,r.length);if(r.indexOf(e)==0)return r.substring(e.length,r.length)}return null},useInputBox:function(e){var t=$("#openid_input_area"),n="",r="openid_username",i="",s=e.label,o="";s&&(n="<p>"+s+"</p>"),e["name"]=="OpenID"&&(r=this.input_id,i="http://",o="background: #FFF url("+this.img_path+"openid-inputicon.gif) no-repeat scroll 0 50%; padding-left:18px;"),n+='<input id="'+r+'" type="text" style="'+o+'" name="'+r+'" value="'+i+'" />'+'<input id="openid_submit" type="submit" class="btn" value="'+this.signin_text+'"/>',t.empty(),t.append(n),$("#"+r).focus()},setDemoMode:function(e){this.demo=e}}})(jQuery);var providers_large={google:{name:"Google",url:"google-oauth2"},twitter:{name:"Twitter",url:"twitter"},facebook:{name:"Facebook",url:"facebook"},stackexchange:{name:"Stack Exchange",url:"https://openid.stackexchange.com/"},openid:{name:"OpenID",label:"Enter your OpenID.",url:""}},providers_small={livejournal:{name:"LiveJournal",label:"Enter your Livejournal username.",url:"http://{username}.livejournal.com/"},wordpress:{name:"Wordpress",label:"Enter your Wordpress.com username.",url:"http://{username}.wordpress.com/"},blogger:{name:"Blogger",label:"Your Blogger account",url:"http://{username}.blogspot.com/"},github:{name:"GitHub",url:"github"},yahoo:{name:"Yahoo",url:"yahoo"},vkontakte:{name:"VKontakte",url:"vkontakte-oauth2"},verisign:{name:"Verisign",label:"Your Verisign username",url:"http://{username}.pip.verisignlabs.com/"},claimid:{name:"ClaimID",label:"Your ClaimID username",url:"http://claimid.com/{username}"},clickpass:{name:"ClickPass",label:"Enter your ClickPass username",url:"http://clickpass.com/public/{username}"}};openid.locale="en",openid.sprite="en",openid.demo_text="In client demo mode. Normally would have submitted OpenID:",openid.signin_text="Log in",openid.image_title="log in with {provider}",function(){var e,t,n;e=jQuery,n=function(){function e(){this.fileLoadingImage="/static/img/loading.gif",this.fileCloseImage="/static/img/close.png",this.resizeDuration=700,this.fadeDuration=500,this.labelImage="Figure",this.labelOf="of"}return e}(),t=function(){function t(e){this.options=e,this.album=[],this.currentImageIndex=void 0,this.init()}return t.prototype.init=function(){return this.enable(),this.build()},t.prototype.enable=function(){var t=this;return e("body").on("click","a[rel^=lightbox], area[rel^=lightbox]",function(n){return t.start(e(n.currentTarget)),!1})},t.prototype.build=function(){var t,n=this;e("<div>",{id:"lightboxOverlay"}).after(e("<div/>",{id:"lightbox"}).append(e("<div/>",{"class":"lb-outerContainer"}).append(e("<div/>",{"class":"lb-container"}).append(e("<img/>",{"class":"lb-image"}),e("<div/>",{"class":"lb-nav"}).append(e("<a/>",{"class":"lb-prev"}),e("<a/>",{"class":"lb-next"})),e("<div/>",{"class":"lb-loader"}).append(e("<a/>",{"class":"lb-cancel"}).append(e("<img/>",{src:this.options.fileLoadingImage}))))),e("<div/>",{"class":"lb-dataContainer"}).append(e("<div/>",{"class":"lb-data"}).append(e("<div/>",{"class":"lb-details"}).append(e("<span/>",{"class":"lb-caption"}),e("<span/>",{"class":"lb-number"})),e("<div/>",{"class":"lb-closeContainer"}).append(e("<a/>",{"class":"lb-close"}).append(e("<img/>",{src:this.options.fileCloseImage}))))))).appendTo(e("body")),e("#lightboxOverlay").hide().on("click",function(e){return n.end(),!1}),t=e("#lightbox"),t.hide().on("click",function(t){return e(t.target).attr("id")==="lightbox"&&n.end(),!1}),t.find(".lb-outerContainer").on("click",function(t){return e(t.target).attr("id")==="lightbox"&&n.end(),!1}),t.find(".lb-prev").on("click",function(e){return n.changeImage(n.currentImageIndex-1),!1}),t.find(".lb-next").on("click",function(e){return n.changeImage(n.currentImageIndex+1),!1}),t.find(".lb-loader, .lb-close").on("click",function(e){return n.end(),!1})},t.prototype.start=function(t){var n,r,i,s,o,u,a,f,l,c,h,p,d;e(window).on("resize",this.sizeOverlay),e("select, object, embed").css({visibility:"hidden"}),e("#lightboxOverlay").width(e(document).width()).height(e(document).height()).fadeIn(this.options.fadeDuration),this.album=[],u=0;if(t.attr("rel")==="lightbox")this.addToAlbum({link:t.attr("href"),title:(h=t.attr("lightbox-title"))!=null?h:t.attr("title")});else{s=0,p=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(o=l=0,c=p.length;l<c;o=++l)i=p[o],this.addToAlbum({link:e(i).attr("href"),title:(d=e(i).attr("lightbox-title"))!=null?d:e(i).attr("title")})&&(e(i).attr("href")===t.attr("href")&&(u=s),s+=1)}r=e(window),f=r.scrollTop()+r.height()/10,a=r.scrollLeft(),n=e("#lightbox"),n.css({top:f+"px",left:a+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(u)},t.prototype.addToAlbum=function(e){var t,n,r,i;i=this.album;for(n=0,r=i.length;n<r;n++){t=i[n];if(t.link===e.link&&t.title===e.title)return!1}return this.album.push(e),!0},t.prototype.changeImage=function(t){var n,r,i,s=this;this.disableKeyboardNav(),r=e("#lightbox"),n=r.find(".lb-image"),this.sizeOverlay(),e("#lightboxOverlay").fadeIn(this.options.fadeDuration),e(".loader").fadeIn("slow"),r.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),r.find(".lb-outerContainer").addClass("animating"),i=new Image,i.onload=function(){var r,o,u,a,f,l;return n.attr("src",s.album[t].link),r=e(window),l=.8*r.width(),f=.8*r.height(),a=l/i.width,u=f/i.height,a<1||u<1?o=a<u?a:u:o=1,n.width=o*i.width,n.height=o*i.height,s.sizeContainer(n.width,n.height)},i.src=this.album[t].link,this.currentImageIndex=t},t.prototype.sizeOverlay=function(){return e("#lightboxOverlay").width(e(document).width()).height(e(document).height())},t.prototype.sizeContainer=function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d=this;i=e("#lightbox"),s=i.find(".lb-outerContainer"),p=s.outerWidth(),h=s.outerHeight(),r=i.find(".lb-container"),f=parseInt(r.css("padding-top"),10),a=parseInt(r.css("padding-right"),10),o=parseInt(r.css("padding-bottom"),10),u=parseInt(r.css("padding-left"),10),c=t+u+a,l=n+f+o,c!==p&&l!==h?s.animate({width:c,height:l},this.options.resizeDuration,"swing"):c!==p?s.animate({width:c},this.options.resizeDuration,"swing"):l!==h&&s.animate({height:l},this.options.resizeDuration,"swing"),setTimeout(function(){i.find(".lb-dataContainer").width(c),i.find(".lb-prevLink").height(l),i.find(".lb-nextLink").height(l),d.showImage()},this.options.resizeDuration)},t.prototype.showImage=function(){var t;t=e("#lightbox"),t.find(".lb-loader").hide(),t.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var t;t=e("#lightbox"),t.find(".lb-nav").show(),this.currentImageIndex>0&&t.find(".lb-prev").show(),this.currentImageIndex<this.album.length-1&&t.find(".lb-next").show()},t.prototype.updateDetails=function(){var t,n=this;t=e("#lightbox"),typeof this.album[this.currentImageIndex].title!="undefined"&&this.album[this.currentImageIndex].title!==""&&t.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast"),this.album.length>1?t.find(".lb-number").html(this.options.labelImage+" "+(this.currentImageIndex+1)+" "+this.options.labelOf+"  "+this.album.length).fadeIn("fast"):t.find(".lb-number").hide(),t.find(".lb-outerContainer").removeClass("animating"),t.find(".lb-dataContainer").fadeIn(this.resizeDuration,function(){return n.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){var e,t;this.album.length>this.currentImageIndex+1&&(e=new Image,e.src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&(t=new Image,t.src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},t.prototype.keyboardAction=function(e){var t,n,r,i,s;t=27,n=37,r=39,s=e.keyCode,i=String.fromCharCode(s).toLowerCase(),s===t||i.match(/x|o|c/)?this.end():i==="p"||s===n?this.currentImageIndex!==0&&this.changeImage(this.currentImageIndex-1):(i==="n"||s===r)&&this.currentImageIndex!==this.album.length-1&&this.changeImage(this.currentImageIndex+1)},t.prototype.end=function(){return this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),e("#lightbox").fadeOut(this.options.fadeDuration),e("#lightboxOverlay").fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"}),e("#lightbox").trigger("hidden")},t}(),e(function(){var e,r;return r=new n,e=new t(r)})}.call(this),function(){var e,t,n;e=jQuery,t=RosalindSettings,n=function(){function n(){this.problem=void 0,this.enable()}return n.prototype.enable=function(t){var n=this;return t==null&&(t=e("body")),e("body").on("click.log","a[rel^=lightbox], area[rel^=lightbox]",function(t){return n.log(e(t.currentTarget)),!1}),this.problem=t.find(".problem-statement").attr("problem")},n.prototype.log=function(n){var r,i,s;r=(s=n.attr("figure"))!=null?s:n.text(),i=n.attr("href");if(r&&i&&t.is_authenticated)return e.post(t.urls.log_figure,{name:r,url:i,problem:this.problem})},n}(),e(function(){return new n})}.call(this),function(){var e,t,n;e=jQuery,t=RosalindSettings,n=function(){function n(){this.problem=void 0,this.$glossary=void 0,this.fadeDuration=500,this.isLoaded=!1,this.init()}return n.prototype.init=function(){return this.enable(),this.build()},n.prototype.enable=function(n){var r=this;return n==null&&(n=e("body")),n.on("click","a.term",function(n){if(window.location.pathname.indexOf(t.urls.glossary_index,0)===-1)return r.start(e(n.currentTarget)),!1}),this.problem=n.find(".problem-statement").attr("problem")},n.prototype.build=function(){var t=this;return e("<div/>",{id:"glossaryWindow","class":"modal hide"}).append(e("<div/>",{"class":"modal-header"}).append(e("<button/>",{"class":"close","data-dismiss":"modal"}).text(""),e("<h3/>",{id:"glossaryHeader"})),e("<div/>",{id:"glossaryLoader","class":"modal-body"}).append(e("<i/>",{"class":"icon-spinner icon-spin"})),e("<div/>",{id:"glossaryBody","class":"modal-body"}),e("<div/>",{"class":"modal-footer"}).append(e("<a/>",{id:"glossaryWikipediaLink",href:"#","class":"btn btn-info hide",target:"_blank"}).text("Wikipedia"),e("<a/>",{href:"#","class":"btn","data-dismiss":"modal"}).text("Close"))).appendTo(e("body")),this.$glossary=e("#glossaryWindow"),this.$glossary.find("#glossaryLoader").hide(),this.$glossary.find("#glossaryBody").hide(),this.$glossary.modal({show:!1}),this.$glossary.find("#glossaryWikipediaLink").on("click",function(e){return t.logWikipedia(e)}),e(".wikipedia-buttons a[term]").on("click",function(e){return t.logWikipedia(e)})},n.prototype.start=function(t){var n,r=this;return this.loading(),n=/^term-(\d+)$/.exec(t.attr("id")),n&&e.post(t.attr("href"),{id:n[1],problem:this.problem},function(e){if(e.status)return r.isLoaded=!0,r.$glossary.find('#glossaryBody [rel="tooltip"]').tooltip("hide"),r.$glossary.find("#glossaryHeader").text(e.name),r.$glossary.find("#glossaryBody").html(e.description),e.wikipedia_links.length?r.$glossary.find("#glossaryWikipediaLink").attr("href",e.wikipedia_links[0].url).attr("term",n[1]).show():r.$glossary.find("#glossaryWikipediaLink").hide(),r.$glossary.find('#glossaryBody [rel="tooltip"]').tooltip(),MathJax.Hub.Queue(["Typeset",MathJax.Hub,"glossaryBody"]),r.$glossary.find("#glossaryLoader").hide(),r.$glossary.find("#glossaryBody").show()},"json"),t.blur()},n.prototype.loading=function(){return this.isLoaded=!1,this.$glossary.find("#glossaryHeader").text("Loading..."),this.$glossary.find("#glossaryWikipediaLink").hide(),this.$glossary.modal("show"),this.$glossary.find("#glossaryBody").hide(),this.$glossary.find("#glossaryLoader").show()},n.prototype.logWikipedia=function(n){var r,i;r=e(n.currentTarget),i=r.attr("term");if(i&&t.is_authenticated)return e.post(t.urls.log_wikipedia,{term:i,problem:this.problem})},n}(),e(function(){return new n})}.call(this),function(){var e,t;e=jQuery,t=function(){function t(){this.init()}return t.prototype.init=function(){return this.enable()},t.prototype.enable=function(){var t=this;return e(".vote-box .vote-up a, .vote-box .vote-down a").on("click.vote",function(n){return t.start(e(n.currentTarget)),!1})},t.prototype.start=function(t){var n,r,i,s=this;return i=t.attr("href"),r=t.parent(),r.hasClass("disabled")||(r.hasClass("voted")&&(i=i.replace(/\/(up|down)\//,"/clear/")),n=r.parent().find(".vote-score"),e.post(i,function(e){if(e.success)return n.text(e.score.score>0?"+"+e.score.score:e.score.score),r.parent().children().removeClass("voted"),e.vote!==0&&r.addClass("voted"),!0},"json")),t.blur()},t}(),e(function(){var e;return e=new t})}.call(this),function(){var e,t;e=jQuery,t=function(){function t(){this.init()}return t.prototype.init=function(){return this.enable(),this.build()},t.prototype.enable=function(t){var n=this;return t==null&&(t=e("body")),t.on("click",".comment a.flag",function(t){return n.start(e(t.currentTarget)),!1})},t.prototype.build=function(){var t,n=this;return e("<div/>",{id:"flagWindow","class":"modal hide"}).append(e("<div/>",{"class":"modal-header"}).append(e("<button/>",{"class":"close","data-dismiss":"modal"}).text(""),e("<h3/>",{id:"flagHeader"}).text("Flag as inappropriate")),e("<div/>",{id:"flagBody","class":"modal-body"}).html("Are you sure you want to flag this comment as inappropriate?"),e("<div/>",{"class":"modal-footer"}).append(e("<a/>",{id:"flagLink",href:"#","class":"btn btn-warning"}).text("Yes, flag it"),e("<a/>",{href:"#","class":"btn","data-dismiss":"modal"}).text("Cancel"))).appendTo(e("body")),t=e("#flagWindow"),t.modal({show:!1}),t.find("#flagLink").one("click",function(t){return n.flag(e(t.currentTarget)),!1})},t.prototype.start=function(t){var n;return n=e("#flagWindow"),n.find("#flagLink").attr("href",t.attr("href")),n.modal("show"),t.blur()},t.prototype.flag=function(t){var n,r=this;return e.post(t.attr("href")),n=e("#flagWindow"),n.modal("hide"),show_modal("The comment has been flagged","Thank you for your contribution to Rosalind."),n.find("#flagLink").one("click",function(t){return r.flag(e(t.currentTarget)),!1})},t}(),e(function(){var e;return e=new t})}.call(this),function(){var e,t;e=jQuery,t=function(){function t(){this.timer=void 0,this.init()}return t.prototype.init=function(){return this.enable()},t.prototype.enable=function(t){var n=this;return t==null&&(t=e("body")),t.find(".wmd-wrapper").each(function(t,r){var i;i=e(r).find(".wmd-preview");if(i.length)return e(r).on("keydown.markdown.preview","textarea",function(e){return n.timer&&clearTimeout(n.timer),n.timer=setTimeout(function(){return MathJax.Hub.Queue(["Typeset",MathJax.Hub,i[0]])},1500)})})},t}(),e(function(){return new t})}.call(this),function(){var e,t,n,r;e=jQuery,t=RosalindSettings,r=typeof exports!="undefined"&&exports!==null?exports:this,n=function(){function n(){this.clickToExpand="click to expand",this.clickToCollapse="click to collapse",this.init()}return n.prototype.init=function(){return this.enable()},n.prototype.enable=function(t){var n,r=this;return t==null&&(t=e(".problem-statement")),n=t.attr("problem"),t.find("blockquote").each(function(t,i){var s,o,u,a,f,l;return s=e(i),a=s.children().first(),o=a.nextAll(),o.length&&!s.parent().hasClass("do-not-collapse")?(l=a.text(),o.wrapAll("<div/>"),u=a.next(),f=e("<span/>",{"class":"header-expander"}).text(r.clickToExpand),f.appendTo(a),u.hide(),s.show(),a.addClass("pointer"),a.on("click",function(e){return u.slideToggle("slow",function(){return u.is(":visible")?(f.text(r.clickToCollapse),r.log("expand",n,l)):(f.text(r.clickToExpand),r.log("collapse",n,l))})})):s.show()})},n.prototype.log=function(n,r,i){var s;if(r&&t.is_authenticated){s={problem:r,block:i};if(n==="expand")return e.post(t.urls.log_block_expand,s);if(n==="collapse")return e.post(t.urls.log_block_collapse,s)}},n}(),e(function(){return r.expandableBlock=new n})}.call(this),function(){var e,t;e=jQuery,t=function(){function t(){this.init()}return t.prototype.init=function(){var t;return t=e.cookie("csrftoken"),e.ajaxSetup({crossDomain:!1,beforeSend:function(e,n){if(!/^(GET|HEAD|OPTIONS|TRACE)$/.test(n.type))return e.setRequestHeader("X-CSRFToken",t)}})},t}(),new t}.call(this),function(){var e,t;e=jQuery,t=function(){function t(){this.init()}return t.prototype.init=function(){var t;return t=jstz.determine(),e.cookie("timezone",t.name())},t}(),new t}.call(this);var action_queue=new ActionQueue;action_queue.add_handler(new ProblemViewHandler),action_queue.add_handler(new LoginHandler),action_queue.add_handler(new ProfileHandler),action_queue.add_handler(new ChartsDrawer),action_queue.add_handler(new GraphHandler),action_queue.add_handler(new ClassDetailHandler),$(document).ready(function(){$(".alert").alert(),$("[rel='popover']").popover(),$("[rel~='tooltip'], [rel^='lightbox']").tooltip(),$(".nav-tabs a").click(function(e){e.preventDefault(),$(this).tab("show")}),$(".dropdown-toggle").dropdown(),$("textarea.wmd-input:not(.processed)").TextAreaResizer(),$(".datetimepicker").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"hh:mm"}),init_report_typo_form(),setTimeout(function(){$(".flash-message").fadeOut()},15e3),action_queue.process(),$("html").removeClass("loading"),MathJax.Hub.Queue(function(){$("html").removeClass("loading-mathjax").trigger("rosalind-loaded")})}),function(){var e,t;e=jQuery,t=function(){function t(){this.action_name="class-problems"}return t.prototype.process=function(t){return t.minDate=e.datepicker.parseDateTime("yy-mm-dd","hh:mm",t.date_begin),t.maxDate=e.datepicker.parseDateTime("yy-mm-dd","hh:mm",t.date_end),this.options=t,this.init()},t.prototype.init=function(t){var n=this;return t==null&&(t=e(".class-problem-list-selector")),this.$problems=t.find("ul"),this.$problems_all=t.find("#problems_all"),this.$problems_class=t.find("#problems_class"),this.$apply_changes=t.find("#apply_changes"),this.$add_due_date=t.find("#add_due_date"),this.$problems_class.sortable({forcePlaceholderSize:!0,tolerance:"pointer"}),this.$problems.disableSelection(),this.$problems_class.bind("sortstop",function(e,t){return n.changeData()}),this.$problems.find("li.problem i.icon-remove").click(function(t){var r;return t.stopPropagation(),r=e(t.currentTarget).parent().detach(),r.find(".cost").hide(),r.appendTo(n.$problems_all),r.one("click",function(e){return n.moveToClassCallback(e)}),n.sortProblems(),n.changeData()}),this.$problems_all.find("li").one("click",function(e){return n.moveToClassCallback(e)}),this.$problems.find("a.pid").on("click.pid",function(e){return e.stopPropagation()}),this.$apply_changes.click(function(t){e(t.currentTarget).blur(),t.preventDefault();if(!e(t.currentTarget).hasClass("disabled"))return n.saveClass()}),this.$apply_changes.hide(),this.$problems_class.find("li.due-date i.icon-remove").one("click",function(e){return n.removeDueDateCallback(e)}),this.$add_due_date.click(function(t){return e(t.currentTarget).blur(),t.preventDefault(),n.addDueDate()}),this.$add_due_date.hide(),this.enableDateTimePicker(),this.$problems.find("span.cost").each(function(t,r){var i,s,o,u;return o=e(r),s=o.parent(),i=e("<input/>",{type:"text","class":"cost"}),o.after(i),i.hide(),o.on("click",function(e){return i.val(o.text()),i.width(o.width()*2),o.hide(),i.show(),i.focus()}),u=function(e){return e==null&&(e=!0),o.text()!==i.val()&&e&&(o.text(i.val()),s.attr("cost",i.val()),n.changeData()),i.hide(),o.show()},i.on("keydown",function(e){if(e.keyCode===13||e.keyCode===10||e.keyCode===27)return u(e.keyCode!==27)}),i.on("focusout",function(e){return u(!1)})})},t.prototype.changeData=function(){return this.$apply_changes.show(),this.hasDueDate()?this.$add_due_date.hide():this.$add_due_date.show()},t.prototype.sortProblems=function(){var t,n=this;return t=this.$problems_all.find("li").detach(),t.sort(function(t,n){return parseInt(e(t).attr("num"))-parseInt(e(n).attr("num"))}),t.appendTo(this.$problems_all),this.$problems_all.sortable("refresh")},t.prototype.refreshClass=function(){return this.$problems_class.sortable("refresh"),this.changeData()},t.prototype.moveToClassCallback=function(t){var n;return n=e(t.currentTarget).detach(),n.find("span.cost").show(),n.find("input.cost").hide(),n.appendTo(this.$problems_class),this.refreshClass()},t.prototype.hasDueDate=function(){var e;return e=this.$problems_class.find("li:last-child"),e.hasClass("due-date")},t.prototype.addDueDate=function(t){var n,r=this;t==null&&(t=!1);if(!this.hasDueDate()||t)return n=e("<li/>",{"class":"due-date","due-date":this.options.date_end}).append(e("<i/>",{"class":"icon-arrow-up"}),e("<span/>").text(" "),e("<span/>",{"class":"label label-info"}).text("Due date"),e("<span/>").text(" "),e("<span/>",{"class":"due-date"}).text(this.options.date_end),e("<i/>",{"class":"icon-remove"})).appendTo(this.$problems_class),n.find("i.icon-remove").one("click",function(e){return r.removeDueDateCallback(e)}),this.enableDateTimePicker(n),this.$add_due_date.hide()},t.prototype.removeDueDateCallback=function(t){return e(t.currentTarget).parent().remove(),this.changeData()},t.prototype.setDueDates=function(){var e,t,n,r;t=this.$problems_class.find("li:last-child"),e=(n=t.attr("due-date"))!=null?n:this.options.date_end,r=[];while(t.length)t.hasClass("due-date")?e=t.attr("due-date"):t.attr("due-date",e),r.push(t=t.prev());return r},t.prototype.enableDateTimePicker=function(t){var n=this;return t==null&&(t=this.$problems_class),t.find("span.due-date").each(function(t,r){var i,s;return s=e(r),i=s.parent(),s.on("click",function(t){var r;return r=i.find("input.due-date"),r.length||(r=e("<input/>",{type:"text","class":"due-date"}),s.after(r),r.datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"hh:mm",minDateTime:n.options.minDate,maxDateTime:n.options.maxDate,onClose:function(e,t){return s.text()!==e&&(s.text(e),i.attr("due-date",e),setTimeout(function(e){return n.changeData()},500)),r.hide(),s.show()}})),r.val(s.text()),r.width(s.width()),s.hide(),r.show(),r.focus()})})},t.prototype.serializeClass=function(){var t,n=this;return t=[],this.$problems_class.find("li.problem").each(function(n,r){return t.push({num:n+1,id:e(r).attr("problem"),"due-date":e(r).attr("due-date"),cost:e(r).attr("cost")})}),t},t.prototype.saveClass=function(){var t,n=this;return this.setDueDates(),t=this.serializeClass(),this.$apply_changes.addClass("disabled"),e.post(this.$problems_class.attr("ajax-update-url"),{problems:e.toJSON(t)},function(e){if(e.success)return n.$apply_changes.hide(),n.$apply_changes.removeClass("disabled")},"json").error(function(){return show_modal("Error","An error occurred during applying changes."),n.$apply_changes.removeClass("disabled")})},t}(),action_queue.add_handler(new t)}.call(this),function(){var e,t;e=jQuery,t=function(){function t(){this.action_name="print"}return t.prototype.process=function(e){return this.init()},t.prototype.init=function(){var t=this;return e("html").one("rosalind-loaded.print",function(){return setTimeout(function(){return window.print()},1e3)})},t}(),action_queue.add_handler(new t)}.call(this),function(){var e,t;e=jQuery,t=function(){function t(){this.action_name="explanation-history"}return t.prototype.process=function(e){return this.init(),this.enable_compare()},t.prototype.init=function(){var t=this;e("input:radio[name=from]").on("change",function(n){var r,i;return r=e(n.currentTarget),i=parseInt(r.val()),e("input:radio[name=to]").filter(function(t){return parseInt(e(this).val())<=i}).css("visibility","hidden"),e("input:radio[name=to]").filter(function(t){return parseInt(e(this).val())>i}).css("visibility","visible"),t.enable_compare()}),e("input:radio[name=to]").on("change",function(
n){var r,i;return r=e(n.currentTarget),i=parseInt(r.val()),e("input:radio[name=from]").filter(function(t){return parseInt(e(this).val())>=i}).css("visibility","hidden"),e("input:radio[name=from]").filter(function(t){return parseInt(e(this).val())<i}).css("visibility","visible"),t.enable_compare()});if(e("input:radio[name=from]").length>1)return e("input:radio[name=from]").slice(1,2).prop("checked",!0),e("input:radio[name=from]").slice(1,2).trigger("change"),e("input:radio[name=to]").first().prop("checked",!0),e("input:radio[name=to]").first().trigger("change")},t.prototype.enable_compare=function(){return e("input:radio[name=from]:checked").val()&&e("input:radio[name=to]:checked").val()?e("button#compare").prop("disabled",!1):e("button#compare").prop("disabled",!0)},t}(),action_queue.add_handler(new t)}.call(this),function(){var e,t,n,r;e=jQuery,t=RosalindSettings,r=function(){function n(){var n=this;this.guiders=[],this.ids=[],this.auto_id=1,this.default_options={closeOnEscape:t.is_solver,xButton:t.is_solver,buttons:[{name:"Next",onclick:function(){return n.show()}}],onClose:function(){return n.close()}},this.isLogged=e("#menu_profile").length>0,this.isLoggedCount=0,this.build()}return n.prototype.build=function(){var t=this;return this.add({isLogged:!1,title:"Welcome to Rosalind!",description:'Rosalind is a platform for learning bioinformatics through problem solving.<br />\nPlease <a href="/accounts/login/">login</a> with Google/Twitter/Facebook or\n<a href="/accounts/register/">register</a> a new account.',attachTo:"#menu_login",autoFocus:!0,position:5,buttons:[],closeOnEscape:!0,xButton:!0,TTL:6e4,isFixed:!0,isActive:function(){return window.location.pathname.indexOf("/accounts/",0)===-1},onClose:function(){return t.close(!1)}}),this.add({page:"/problems/list-view/",isLogged:!0,title:"Here's the list of Rosalind problems",description:"Click to see the first problem.",attachTo:".problem-list a:first",autoFocus:!0,position:3,buttons:[]}),this.add({page:"/problems/dna/",isLogged:!0,title:"A Typical Problem Statement",description:"Every Rosalind problem begins with an introduction detailing a practical issue in biology.<br/>\nClick to expand the biological introduction to this problem.",attachTo:".header-expander:first",autoFocus:!0,position:12,buttons:[],isActive:function(){return e(".problem-dataset").is(":visible")},onClose:function(){return t.close(!1)},onShow:function(){return e("h2.pointer:first").one("click.guider",function(n){return setTimeout(function(e){return t.show()},750),e("h2.pointer:first").on("click.guider",function(t){return setTimeout(function(t){return guiders.currentID()==="guider-terms"&&(e("a.term:first").is(":visible")?e("#guider-terms").show():e("#guider-terms").hide()),guiders.currentID()==="guider-figures"&&(e("a[rel^='lightbox']:first").is(":visible")?e("#guider-figures").show():e("#guider-figures").hide()),guiders.reposition()},750),!0}),!0})}}),this.add({id:"guider-terms",page:"/problems/dna/",isLogged:!0,title:"Important Terms are Highlighted",description:"Hover over a highlighted term to see a short definition of the term.<br />\nClick on the term to see a popup window containing a more in-depth description.",attachTo:"a.term:first",autoFocus:!0,position:6,isActive:function(){return e("a.term:first").is(":visible")},onShow:function(){return e("a.term:first").one("click.guider",function(n){return guiders.hideAll(),e("#glossaryWindow").one("hidden.guider",function(e){return t.show()})})}}),this.add({id:"guider-figures",page:"/problems/dna/",isLogged:!0,title:"Figures Give Extra Information",description:"Click to see an illustration of the topic at hand, possibly with more explanation.",attachTo:"p a[rel^='lightbox']:first",autoFocus:!0,position:6,isActive:function(){return e("p a[rel^='lightbox']:first").is(":visible")},onShow:function(){return e("p a[rel^='lightbox']:first").one("click.guider",function(n){return guiders.hideAll(),e("#lightbox").one("hidden.guider",function(e){return t.show()})})}}),this.add({page:"/problems/dna/",isLogged:!0,title:"Getting Down to Business",description:"Now that you understand the biological background, here is a computational problem that applies to it.",attachTo:".problem-statement > p:has(.given-return):last",position:6,isActive:function(){return e(".problem-dataset").is(":visible")}}),this.add({page:"/problems/dna/",isLogged:!0,title:"Sample Dataset",description:"The Sample Dataset/Sample Output sections show you how the dataset will be given and exactly how you should format your answer.\nAnswers not in the format of the Sample Output will be counted as incorrect.",attachTo:".problem-statement > .codehilite:first",autoFocus:!0,position:12,isActive:function(){return e(".problem-dataset").is(":visible")}}),this.add({page:"/problems/dna/",isLogged:!0,title:"Design and Implement Your Solution",description:'Prepare a solution for a general dataset. Solving Rosalind problems requires programming.\nIf you have any difficulties with this problem, <a href="http://ideone.com/rPes9" target="_blank">here</a>\nis a solution in <a href="http://python.org" target="_blank">Python</a>.\nA Python tutorial can be found <a href="http://www.codecademy.com/tracks/python" target="_blank">here</a>.',attachTo:".problem-statement",autoFocus:!0,position:6,buttons:[{name:"I'm ready to try a real dataset!",onclick:function(){return t.show()}}],isActive:function(){return e(".problem-dataset").is(":visible")}}),this.add({page:"/problems/dna/",isLogged:!0,title:"Ready...set...",description:"If you have coded a solution for an arbitrary dataset, click here to download the dataset in the form of a .txt file.<br/>\nYou'll have 5 minutes to upload your answer. You may make an unlimited number of attempts without being penalized, but you will receive a new dataset\nwith each new attempt.",attachTo:"#id_problem_dataset_link",position:3,buttons:[],isActive:function(){return e(".problem-dataset").is(":visible")},onSetup:function(){return e("#id_problem_dataset_link").on("click.guider",function(e){return guiders.hideAll(),setTimeout(function(e){return t.show("solution-upload")},1e4)})}}),this.add({id:"solution-upload",page:"/problems/dna/",isLogged:!0,title:"Upload Your Answer",description:"Either upload a text file containing your answer below, or simply paste your answer in this field.\nAfter submitting your solution, you may choose to upload your code below as well.",attachTo:"#id_form_submission",position:12,buttons:[],isActive:function(){return e(".problem-submission").is(":visible")}}),this.add({id:"congratulations",page:"/problems/dna/",isLogged:!0,title:"Congratulations!",description:"Go ahead, try to become a Bioinformatics Guru.<br/><br/>\nThe goal of Rosalind is to facilitate learning through problem solving.\nWe encourage you to search the Internet or communicate with each other to find\nthe best algorithms to solve our problem.<br/><br/>\nHowever, there is a difference between looking for inspiration and copy-pasting\nsomeone else's code; we strongly advise you not to use others' source code.\nOnce you have solved a problem, we encourage you to post your code\nto the problem's comments section\n(which can be seen only by users who have also solved the problem.\nHowever, please do not publish your code outside of the Rosalind website.",overlay:!0,buttons:[{name:"Okay",onclick:function(){return t.show()}}],isActive:function(){return e(".alert-success").length>0&&e(".problem-solved").length>0}}),this.add({page:"/problems/ini1/",isLogged:!0,title:"A Typical Problem Statement",description:"Every Rosalind problem begins with an introduction.<br/>\nClick to expand the introduction to this problem.",attachTo:".header-expander:first",autoFocus:!0,position:12,buttons:[],isActive:function(){return e(".problem-dataset").is(":visible")},onClose:function(){return t.close(!1)},onShow:function(){return e("h2.pointer:first").one("click.guider",function(n){return setTimeout(function(e){return t.show()},750),e("h2.pointer:first").on("click.guider",function(e){return setTimeout(function(e){return guiders.reposition()},750),!0}),!0})}}),this.add({page:"/problems/ini1/",isLogged:!0,title:"Ready...set...",description:"If you have installed the Python, click here to download the dataset in the form of a .txt file.<br/>\nYou'll have 5 minutes to upload your answer.",attachTo:"#id_problem_dataset_link",position:3,buttons:[],isActive:function(){return e(".problem-dataset").is(":visible")},onSetup:function(){return e("#id_problem_dataset_link").on("click.guider",function(e){return guiders.hideAll(),setTimeout(function(e){return t.show("solution-upload-ini1")},1e4)})}}),this.add({id:"solution-upload-ini1",page:"/problems/ini1/",isLogged:!0,title:"Upload Your Answer",description:"Either upload a text file containing your answer below, or simply paste your answer in this field.",attachTo:"#id_form_submission",position:12,buttons:[],isActive:function(){return e(".problem-submission").is(":visible")}})},n.prototype.add=function(t){var n;(n=t.id)==null&&(t.id="guider"+this.auto_id++),this.ids.push(t.id);if(t.page==null||window.location.pathname.indexOf(t.page,0)!==-1)return t=e.extend({},this.default_options,t),this.guiders.push(t),typeof t.onSetup=="function"&&t.onSetup(),guiders.createGuider(t)},n.prototype.is_shown=function(t){return e.jStorage.get("guider_shown_"+t,!1)},n.prototype.next=function(t){var n,r,i,s;t==null&&(t=null),s=this.guiders;for(r=0,i=s.length;r<i;r++){n=s[r];if((!this.is_shown(n.id)||n.isPermanent)&&(n.isLogged==null||n.isLogged===this.isLogged)&&(n.attachTo==null||e(n.attachTo).length>0)&&(n.isActive==null||n.isActive())&&(!t||n.id===t))return n}},n.prototype.show=function(t){var n;t==null&&(t=null),guiders.hideAll(),n=this.next(t);if(n)return guiders.show(n.id),e.jStorage.set("guider_shown_"+n.id,!0,{TTL:n.TTL||0});if(this.isLogged&&this.is_shown("congratulations"))return this.hide()},n.prototype.hide=function(){return e.jStorage.set("is_guider_active",!1)},n.prototype.reset=function(){var t,n,r,i,s;e.jStorage.set("is_guider_active",!0),i=this.ids,s=[];for(n=0,r=i.length;n<r;n++)t=i[n],s.push(e.jStorage.deleteKey("guider_shown_"+t));return s},n.prototype.close=function(e){e==null&&(e=!0);if(t.is_solver)return this.hide();if(e)return this.show()},n}(),n=function(){function e(){!0}return e}(),e(function(){var n,i,s,o=this;if(e.jStorage.storageAvailable()){if(!t.is_solver||e.jStorage.get("is_guider_active",!1))i=new r,i.show();return s=e("a.take-tour"),n=getParameterByName("location"),n&&e.each(s,function(t,r){return e(r).attr("href",e(r).attr("href")+"?location="+n)}),s.on("click",function(e){return i=new r,i.reset()})}})}.call(this);